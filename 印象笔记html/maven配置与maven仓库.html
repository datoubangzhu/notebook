<html>
<head>
  <title>maven配置与maven仓库</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600480 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="559"/>
<h1>maven配置与maven仓库</h1>

<div>
<span><div><div>maven文件下载好后，默认的仓库在C盘，因此要新建一个空文件夹作为repository仓库。</div><div>1.安装与配置环境变量，在Path路径路径中添加MAVEN_HOME路径；maven要提前配置好jdk环境变量，path路径执行有先后顺序，<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">注意看配置环境变量的版本和命令行中执行java -version版本的区别。</span></div><div>    测试：注意是命令行输入 mvn -v，不是maven -v 已踩坑</div><div><br/></div><div>2.maven仓库</div><div>maven仓库结构大致分为：</div><ul><li><div>本地仓库</div></li><li><div>远程仓库：中央仓库，私服，其他第三方仓库</div></li></ul><div>需要说明的是，对于远程仓库来说，所有的仓库id是唯一的，例如没有更改maven配置时，远程仓库默认使用中央仓库（id 为central） 。可以在pom文件中自己设置pom repository，也可以通过更改maven配置文件来使用镜像。当在使用的时候，优先级详细分析请看下面具体分析，大致为：镜像指定拦截respositoryid&gt;pom repository仓库&gt;central仓库     </div><div>（参考文档：仓库比较：<a href="https://www.cnblogs.com/cnblog-long/p/6611383.html">https://www.cnblogs.com/cnblog-long/p/6611383.html</a>       <a href="https://www.jianshu.com/p/5c5f4d790576">https://www.jianshu.com/p/5c5f4d790576</a>）</div><div><br/></div><div><br/></div><div>3.maven仓库优先级：</div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">(1)mirror更像一个过滤器，纯粹是为了拦截替代中央仓库速度，对于其他远程仓库，都可以在pom中配置，替代在setting.xml中配置。</span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">(2)对mirror的请求实际上还是对仓库的请求。</span><span style="background-color: rgb(255, 250, 165); font-weight: bold; text-decoration: underline;-evernote-highlight:true;">仓库之间是可以相互补充的，优先找私有仓库没有再找中央仓库</span><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">，mirror之间也是可以相互补充的。但是如果mirror对仓库进行了拦截，就不会再请求被拦截的仓库了。如果mirror拦截为 * ，那么要特别注意，因为可能把所有的仓库都拦截掉了，尤其是pom中配置的远程仓库！！（此时不会再与找它拦截的仓库的！）</span></div><ul><li><div>mirrors中，按照先后顺序</div></li><li><div>pom repository ，还没研究，但是目前发现，有自定义的会优先使用自定义的远程仓库</div></li><li><div>mirrors和pom repository，首先会找有没有pom repository 如果有然后再去mirrors中进行过滤查找，看看有没有跟他对应的，如果没有，再去找pom repository本身的路径。<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">注</span><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">意不存在mirror代理中拦截到仓库A但是没找到资源，又去pom repository仓库A中找的情况。拦截到之后，找不到就找不到了。</span></div></li></ul><div>所以，如果在配置了pom repository，又在mirror中配置了 * ，那么就会拦截掉pom repository</div><div><br/></div><div><a href="https://blog.csdn.net/haohaizijhz/article/details/72841489">https://blog.csdn.net/haohaizijhz/article/details/72841489</a></div><div><a href="https://blog.csdn.net/isea533/article/details/21560089">https://blog.csdn.net/isea533/article/details/21560089</a></div><div><br/></div><div>3plus.  maven仓库优先级总结（雾和狼）：</div><div style="margin-left: 40px;">(1)pom.xml里的repositories元素，里面可以包含多少repository(至少默认包含了中央仓库，</div><div style="margin-left: 40px;">  该仓库总是在effective-pom里repositories元素的最后一个子元素),</div><div style="margin-left: 40px;">  每个repository都有一个id(此id非常重要)。</div><div style="margin-left: 40px;">(2).maven获取真正起作用的repository集合流程：</div><div style="margin-left: 40px;">     首先会获取pom.xml里的repository集合，然后在settings.xml里找mirrors元素</div><div style="margin-left: 40px;">     如果repository的id和mirror的mirrorOf的值相同，则该mirror替代该repository，</div><div style="margin-left: 40px;">     如果该repository找不到对应的mirror，则使用其本身。依此可以得到最终起作用的</div><div style="margin-left: 40px;">     repository集合</div><div style="margin-left: 40px;">(3).关于maven如何查找pom.xml里dependencies里配置的插件，暂且不考虑本地仓库的存在，</div><div style="margin-left: 40px;">  maven会根据最终的repository集合里依次查找，如果查到了就从该仓库下载，并且停止</div><div style="margin-left: 40px;">  对后续repository的查找(找到了就停)。所以可以看出用户在pom.xml里配置repository时，</div><div style="margin-left: 40px;">  repository的顺序还是挺重要的。注：<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">从超级父pom里继承来的中央repository在effective-pom</span></div><div style="margin-left: 40px;"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">  里总是为最后一个repository</span>.</div><div style="margin-left: 40px;"><br/></div><div style="margin-left: 40px;"> 对于寻找reposiotry的mirror的一些理解：</div><div style="margin-left: 40px;">   在settings.xml里配置mirror里，应该将&lt;mirrorOf&gt;*&lt;/mirrorOf&gt;放在最后一个----&gt;最好这么做</div><div><span style="font-weight: bold; font-style: italic;">参考博客：</span><i><b><a href="https://blog.csdn.net/wuhelang90/article/details/49633579">https://blog.csdn.net/wuhelang90/article/details/49633579</a></b></i></div><div><br/></div><div><br/></div><div>4.pom配置repository</div><div>可以在pom中配置其他远程仓库，这样做的原因有很多，比如你有一个局域网的远程仓 库，使用该仓库能大大提高下载速度，继而提高构建速度，也有可能你依赖的一个jar在central中找不到，它只存在于某个特定的公共仓库，这样你也不 得不添加那个远程仓库的配置。下面以pom配置阿里云替代仓库为例（参数可以参考maven权威指南中文版）</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&lt;project&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        ...</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        &lt;repositories&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            &lt;repository&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                &lt;id&gt;maven-net-cn&lt;/id&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                &lt;name&gt;MavenChinaMirror&lt;/name&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                &lt;url&gt;</span><a href="http://maven.net.cn/content/groups/public/" style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">http://maven.net.cn/content/groups/public/</a><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&lt;/url&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                &lt;releases&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                    &lt;enabled&gt;true&lt;/enabled&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                &lt;/releases&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                &lt;snapshots&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                    &lt;enabled&gt;false&lt;/enabled&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                &lt;/snapshots&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            &lt;/repository&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        &lt;/repositories&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        &lt;pluginRepositories&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            &lt;pluginRepository&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                &lt;id&gt;maven-net-cn&lt;/id&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                &lt;name&gt;MavenChinaMirror&lt;/name&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                &lt;url&gt;</span><a href="http://maven.net.cn/content/groups/public/" style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">http://maven.net.cn/content/groups/public/</a><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&lt;/url&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                &lt;releases&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                    &lt;enabled&gt;true&lt;/enabled&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                &lt;/releases&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                &lt;snapshots&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                    &lt;enabled&gt;false&lt;/enabled&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                &lt;/snapshots&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            &lt;/pluginRepository&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        &lt;/pluginRepositories&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        ...</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    &lt;/project&gt;</span></div></div><div>注意，有些远程仓库需要进行验证，那么要再在setting.xml中进行认证信息配置。</div><div><br/></div><div>5.maven镜像</div><ul><li><div>由于地理位置的原因，导致需要配置镜像仓库，来拦截某些仓库，指向其他远程仓库。例如，如下代码通过配置aliyun镜像作为中央仓库的镜像，当引用外部jar包时，对中央仓库的请求，都会被拦截到此镜像仓库</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&lt;settings&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">...</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    &lt;mirrors&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        &lt;mirror&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            &lt;id&gt;aliyunmaven&lt;/id&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            &lt;name&gt;Aliyun Maven&lt;/name&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">               &lt;url&gt;</span><a href="http://maven.aliyun.com/nexus/content/groups/public" style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">http://maven.aliyun.com/nexus/content/groups/public</a><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&lt;/url&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            &lt;mirrorOf&gt;central&lt;/mirror&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        &lt;/mirror&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    &lt;/mirrors&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&lt;/settings&gt;</span></div></div><ul><li><div>镜像语法：</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Menlo; font-size: 9pt;"><font color="#000000">&lt;mirrorOf&gt;*&lt;/mirrorOf&gt;：匹配所有远程仓库</font></span></div><div><span style="font-family: Menlo; font-size: 9pt;"><font color="#000000">&lt;mirrorOf&gt;external:*&lt;/mirrorOf&gt;：匹配所有远程仓库，但是排除对本地仓库和系统依赖的访问</font></span></div><div><span style="font-family: Menlo; font-size: 9pt;"><font color="#000000">&lt;mirrorOf&gt;repo1,repo2&lt;/mirrorOf&gt;：匹配多个仓库，用逗号隔开</font></span></div><div><span style="font-family: Menlo; font-size: 9pt;"><font color="#000000">&lt;mirrorOf&gt;*,!repo1&lt;/mirrorOf&gt;:匹配所有仓库但排除repo1仓库</font></span></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div>6.配置阿里云镜像仓库：</div><ul><li><div>maven有两个暴露的配置文件，一个是安装目录中的全局配置setting.xml，一个是操作系统用户（一般在User/Administrator下）中的私有配置setting.xml，一般来说，在使用时，两个配置会合并，并且私有配置优先级大于全局配置，另外maven在升级时会覆盖全局配置文件。所以一般优先配置用户级别的。</div></li><li><div>maven的安装目录中有一个conf文件，下面有一个settings.xml，这个配置文件，提供给用户进行自定义配置，如果不配置，maven自身在使用时会找到maven默认的中央仓库（ ${M2_HOME}/lib/maven-xx-uber.jar中\org\apache\maven\project\pom-4.0.0.xml 里定义了默认中央仓库地址），并指定了默认的jar包地址仓库。</div></li></ul><div>但是这个jar包地址这样速度很慢;因此要自己在setting.xml中再配置一下阿里云镜像，这样jar包都从阿里云里下载。</div><ul><li><div>配置：根据优先配置私有仓库的原则，在.m2文件中再加一个settings.xml，然后在idea里指定这个settings.xml文即可。具体如下：</div></li></ul><div><br/></div><div><br/></div><div>3.在.m2文件下有一个repository文件，是默认的仓库，在其同级目录下创建settings.xml文件，相比如conf文件下的settings.xml文件，文件增加了两处内容，更改后的全文内容如下：</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</div><div><br/></div><div>&lt;!--</div><div>Licensed to the Apache Software Foundation (ASF) under one</div><div>or more contributor license agreements.  See the NOTICE file</div><div>distributed with this work for additional information</div><div>regarding copyright ownership.  The ASF licenses this file</div><div>to you under the Apache License, Version 2.0 (the</div><div>&quot;License&quot;); you may not use this file except in compliance</div><div>with the License.  You may obtain a copy of the License at</div><div><br/></div><div><a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></div><div><br/></div><div>Unless required by applicable law or agreed to in writing,</div><div>software distributed under the License is distributed on an</div><div>&quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</div><div>KIND, either express or implied.  See the License for the</div><div>specific language governing permissions and limitations</div><div>under the License.</div><div>--&gt;</div><div><br/></div><div>&lt;!--</div><div>| This is the configuration file for Maven. It can be specified at two levels:</div><div>|</div><div>|  1. User Level. This settings.xml file provides configuration for a single user,</div><div>|                 and is normally provided in ${user.home}/.m2/settings.xml.</div><div>|</div><div>|                 NOTE: This location can be overridden with the CLI option:</div><div>|</div><div>|                 -s /path/to/user/settings.xml</div><div>|</div><div>|  2. Global Level. This settings.xml file provides configuration for all Maven</div><div>|                 users on a machine (assuming they're all using the same Maven</div><div>|                 installation). It's normally provided in</div><div>|                 ${maven.conf}/settings.xml.</div><div>|</div><div>|                 NOTE: This location can be overridden with the CLI option:</div><div>|</div><div>|                 -gs /path/to/global/settings.xml</div><div>|</div><div>| The sections in this sample file are intended to give you a running start at</div><div>| getting the most out of your Maven installation. Where appropriate, the default</div><div>| values (values used when the setting is not specified) are provided.</div><div>|</div><div>|--&gt;</div><div>&lt;settings xmlns=&quot;<a href="http://maven.apache.org/SETTINGS/1.0.0">http://maven.apache.org/SETTINGS/1.0.0</a>&quot;</div><div>          xmlns:xsi=&quot;<a href="http://www.w3.org/2001/XMLSchema-instance">http://www.w3.org/2001/XMLSchema-instance</a>&quot;</div><div>          xsi:schemaLocation=&quot;<a href="http://maven.apache.org/SETTINGS/1.0.0http://maven.apache.org/xsd/settings-1.0.0.xsd">http://maven.apache.org/SETTINGS/1.0.0http://maven.apache.org/xsd/settings-1.0.0.xsd</a>&quot;&gt;</div><div>  &lt;!-- localRepository</div><div>   | The path to the local repository maven will use to store artifacts.</div><div>   |</div><div>   | Default: ${user.home}/.m2/repository</div><div>  &lt;localRepository&gt;/path/to/local/repo&lt;/localRepository&gt;</div><div>  --&gt;</div><div>  &lt;!-- 指定本地maven仓库地址  --&gt;</div><div>&lt;localRepository&gt;D:\maven-3.5.2\mavenrepository&lt;/localRepository&gt;</div><div>  &lt;!-- interactiveMode</div><div>   | This will determine whether maven prompts you when it needs input. If set to false,</div><div>   | maven will use a sensible default value, perhaps based on some other setting, for</div><div>   | the parameter in question.</div><div>   |</div><div>   | Default: true</div><div>  &lt;interactiveMode&gt;true&lt;/interactiveMode&gt;</div><div>  --&gt;</div><div><br/></div><div>  &lt;!-- offline</div><div>   | Determines whether maven should attempt to connect to the network when executing a build.</div><div>   | This will have an effect on artifact downloads, artifact deployment, and others.</div><div>   |</div><div>   | Default: false</div><div>  &lt;offline&gt;false&lt;/offline&gt;</div><div>  --&gt;</div><div><br/></div><div>  &lt;!-- pluginGroups</div><div>   | This is a list of additional group identifiers that will be searched when resolving plugins by their prefix, i.e.</div><div>   | when invoking a command line like &quot;mvn prefix:goal&quot;. Maven will automatically add the group identifiers</div><div>   | &quot;org.apache.maven.plugins&quot; and &quot;org.codehaus.mojo&quot; if these are not already contained in the list.</div><div>   |--&gt;</div><div>  &lt;pluginGroups&gt;</div><div>    &lt;!-- pluginGroup</div><div>     | Specifies a further group identifier to use for plugin lookup.</div><div>    &lt;pluginGroup&gt;com.your.plugins&lt;/pluginGroup&gt;</div><div>    --&gt;</div><div>  &lt;/pluginGroups&gt;</div><div><br/></div><div>  &lt;!-- proxies</div><div>   | This is a list of proxies which can be used on this machine to connect to the network.</div><div>   | Unless otherwise specified (by system property or command-line switch), the first proxy</div><div>   | specification in this list marked as active will be used.</div><div>   |--&gt;</div><div>  &lt;proxies&gt;</div><div>    &lt;!-- proxy</div><div>     | Specification for one proxy, to be used in connecting to the network.</div><div>     |</div><div>    &lt;proxy&gt;</div><div>      &lt;id&gt;optional&lt;/id&gt;</div><div>      &lt;active&gt;true&lt;/active&gt;</div><div>      &lt;protocol&gt;http&lt;/protocol&gt;</div><div>      &lt;username&gt;proxyuser&lt;/username&gt;</div><div>      &lt;password&gt;proxypass&lt;/password&gt;</div><div>      &lt;host&gt;<a href="http://proxy.host.net/">proxy.host.net</a>&lt;/host&gt;</div><div>      &lt;port&gt;80&lt;/port&gt;</div><div>      &lt;nonProxyHosts&gt;<a href="http://local.net/">local.net</a>|<a href="http://some.host.com/">some.host.com</a>&lt;/nonProxyHosts&gt;</div><div>    &lt;/proxy&gt;</div><div>    --&gt;</div><div>  &lt;/proxies&gt;</div><div><br/></div><div>  &lt;!-- servers</div><div>   | This is a list of authentication profiles, keyed by the server-id used within the system.</div><div>   | Authentication profiles can be used whenever maven must make a connection to a remote server.</div><div>   |--&gt;</div><div>  &lt;servers&gt;</div><div>    &lt;!-- server</div><div>     | Specifies the authentication information to use when connecting to a particular server, identified by</div><div>     | a unique name within the system (referred to by the 'id' attribute below).</div><div>     |</div><div>     | NOTE: You should either specify username/password OR privateKey/passphrase, since these pairings are</div><div>     |       used together.</div><div>     |</div><div>    &lt;server&gt;</div><div>      &lt;id&gt;deploymentRepo&lt;/id&gt;</div><div>      &lt;username&gt;repouser&lt;/username&gt;</div><div>      &lt;password&gt;repopwd&lt;/password&gt;</div><div>    &lt;/server&gt;</div><div>    --&gt;</div><div><br/></div><div>    &lt;!-- Another sample, using keys to authenticate.</div><div>    &lt;server&gt;</div><div>      &lt;id&gt;siteServer&lt;/id&gt;</div><div>      &lt;privateKey&gt;/path/to/private/key&lt;/privateKey&gt;</div><div>      &lt;passphrase&gt;optional; leave empty if not used.&lt;/passphrase&gt;</div><div>    &lt;/server&gt;</div><div>    --&gt;</div><div>  &lt;/servers&gt;</div><div><br/></div><div>  &lt;!-- mirrors</div><div>   | This is a list of mirrors to be used in downloading artifacts from remote repositories.</div><div>   |</div><div>   | It works like this: a POM may declare a repository to use in resolving certain artifacts.</div><div>   | However, this repository may have problems with heavy traffic at times, so people have mirrored</div><div>   | it to several places.</div><div>   |</div><div>   | That repository definition will have a unique id, so we can create a mirror reference for that</div><div>   | repository, to be used as an alternate download site. The mirror site will be the preferred</div><div>   | server for that repository.</div><div>   |--&gt;</div><div>  &lt;mirrors&gt;</div><div>    &lt;!-- mirror</div><div>     | Specifies a repository mirror site to use instead of a given repository. The repository that</div><div>     | this mirror serves has an ID that matches the mirrorOf element of this mirror. IDs are used</div><div>     | for inheritance and direct lookup purposes, and must be unique across the set of mirrors.</div><div>     |</div><div>    &lt;mirror&gt;</div><div>      &lt;id&gt;mirrorId&lt;/id&gt;</div><div>      &lt;mirrorOf&gt;repositoryId&lt;/mirrorOf&gt;</div><div>      &lt;name&gt;Human Readable Name for this Mirror.&lt;/name&gt;</div><div>      &lt;url&gt;<a href="http://my.repository.com/repo/path">http://my.repository.com/repo/path</a>&lt;/url&gt;</div><div>    &lt;/mirror&gt;</div><div>     --&gt;</div><div>    &lt;!-- 配置阿里云maven仓库nexus镜像，缩短maven项目构建时间 --&gt;</div><div><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">     &lt;</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">mirror</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&gt;</span></div><div><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">          &lt;</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">id</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&gt;</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: rgb(51, 51, 51);">alimaven</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&lt;/</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">id</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&gt;</span></div><div><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">          &lt;</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">name</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&gt;</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: rgb(51, 51, 51);">aliyun maven</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&lt;/</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">name</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&gt;</span></div><div><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">          &lt;</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">url</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&gt;</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: rgb(51, 51, 51);"><a href="http://maven.aliyun.com/nexus/content/groups/public/">http://maven.aliyun.com/nexus/content/groups/public/</a></span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&lt;/</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">url</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&gt;</span></div><div><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">          &lt;</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">mirrorOf</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&gt;</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: rgb(51, 51, 51);">central</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&lt;/</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">mirrorOf</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&gt;</span></div><div><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">     &lt;/</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">mirror</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&gt;</span></div><div>  &lt;/mirrors&gt;</div><div><br/></div><div>  &lt;!-- profiles</div><div>   | This is a list of profiles which can be activated in a variety of ways, and which can modify</div><div>   | the build process. Profiles provided in the settings.xml are intended to provide local machine-</div><div>   | specific paths and repository locations which allow the build to work in the local environment.</div><div>   |</div><div>   | For example, if you have an integration testing plugin - like cactus - that needs to know where</div><div>   | your Tomcat instance is installed, you can provide a variable here such that the variable is</div><div>   | dereferenced during the build process to configure the cactus plugin.</div><div>   |</div><div>   | As noted above, profiles can be activated in a variety of ways. One way - the activeProfiles</div><div>   | section of this document (settings.xml) - will be discussed later. Another way essentially</div><div>   | relies on the detection of a system property, either matching a particular value for the property,</div><div>   | or merely testing its existence. Profiles can also be activated by JDK version prefix, where a</div><div>   | value of '1.4' might activate a profile when the build is executed on a JDK version of '1.4.2_07'.</div><div>   | Finally, the list of active profiles can be specified directly from the command line.</div><div>   |</div><div>   | NOTE: For profiles defined in the settings.xml, you are restricted to specifying only artifact</div><div>   |       repositories, plugin repositories, and free-form properties to be used as configuration</div><div>   |       variables for plugins in the POM.</div><div>   |</div><div>   |--&gt;</div><div>  &lt;profiles&gt;</div><div>    &lt;!-- profile</div><div>     | Specifies a set of introductions to the build process, to be activated using one or more of the</div><div>     | mechanisms described above. For inheritance purposes, and to activate profiles via &lt;activatedProfiles/&gt;</div><div>     | or the command line, profiles have to have an ID that is unique.</div><div>     |</div><div>     | An encouraged best practice for profile identification is to use a consistent naming convention</div><div>     | for profiles, such as 'env-dev', 'env-test', 'env-production', 'user-jdcasey', 'user-brett', etc.</div><div>     | This will make it more intuitive to understand what the set of introduced profiles is attempting</div><div>     | to accomplish, particularly when you only have a list of profile id's for debug.</div><div>     |</div><div>     | This profile example uses the JDK version to trigger activation, and provides a JDK-specific repo.</div><div>    &lt;profile&gt;</div><div>      &lt;id&gt;jdk-1.4&lt;/id&gt;</div><div><br/></div><div>      &lt;activation&gt;</div><div>        &lt;jdk&gt;1.4&lt;/jdk&gt;</div><div>      &lt;/activation&gt;</div><div><br/></div><div>      &lt;repositories&gt;</div><div>        &lt;repository&gt;</div><div>          &lt;id&gt;jdk14&lt;/id&gt;</div><div>          &lt;name&gt;Repository for JDK 1.4 builds&lt;/name&gt;</div><div>          &lt;url&gt;<a href="http://www.myhost.com/maven/jdk14">http://www.myhost.com/maven/jdk14</a>&lt;/url&gt;</div><div>          &lt;layout&gt;default&lt;/layout&gt;</div><div>          &lt;snapshotPolicy&gt;always&lt;/snapshotPolicy&gt;</div><div>        &lt;/repository&gt;</div><div>      &lt;/repositories&gt;</div><div>    &lt;/profile&gt;</div><div>    --&gt;</div><div><br/></div><div>    &lt;!--</div><div>     | Here is another profile, activated by the system property 'target-env' with a value of 'dev',</div><div>     | which provides a specific path to the Tomcat instance. To use this, your plugin configuration</div><div>     | might hypothetically look like:</div><div>     |</div><div>     | ...</div><div>     | &lt;plugin&gt;</div><div>     |   &lt;groupId&gt;org.myco.myplugins&lt;/groupId&gt;</div><div>     |   &lt;artifactId&gt;myplugin&lt;/artifactId&gt;</div><div>     |</div><div>     |   &lt;configuration&gt;</div><div>     |     &lt;tomcatLocation&gt;${tomcatPath}&lt;/tomcatLocation&gt;</div><div>     |   &lt;/configuration&gt;</div><div>     | &lt;/plugin&gt;</div><div>     | ...</div><div>     |</div><div>     | NOTE: If you just wanted to inject this configuration whenever someone set 'target-env' to</div><div>     |       anything, you could just leave off the &lt;value/&gt; inside the activation-property.</div><div>     |</div><div>    &lt;profile&gt;</div><div>      &lt;id&gt;env-dev&lt;/id&gt;</div><div><br/></div><div>      &lt;activation&gt;</div><div>        &lt;property&gt;</div><div>          &lt;name&gt;target-env&lt;/name&gt;</div><div>          &lt;value&gt;dev&lt;/value&gt;</div><div>        &lt;/property&gt;</div><div>      &lt;/activation&gt;</div><div><br/></div><div>      &lt;properties&gt;</div><div>        &lt;tomcatPath&gt;/path/to/tomcat/instance&lt;/tomcatPath&gt;</div><div>      &lt;/properties&gt;</div><div>    &lt;/profile&gt;</div><div>    --&gt;</div><div>  &lt;/profiles&gt;</div><div><br/></div><div>  &lt;!-- activeProfiles</div><div>   | List of profiles that are active for all builds.</div><div>   |</div><div>  &lt;activeProfiles&gt;</div><div>    &lt;activeProfile&gt;alwaysActiveProfile&lt;/activeProfile&gt;</div><div>    &lt;activeProfile&gt;anotherAlwaysActiveProfile&lt;/activeProfile&gt;</div><div>  &lt;/activeProfiles&gt;</div><div>  --&gt;</div><div>&lt;/settings&gt;</div></div><div><br/></div><div><br/></div><ul><li><div>主要增加的两处为：</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>1.增加了&lt;localRepository&gt;D:\maven-3.5.2\mavenrepository&lt;/localRepository&gt;  用于指定maven仓库目录，解放C盘空间</div><div>2.增加了阿里云nexus仓库，如果不配置镜像，在构建maven项目的时候会非常非常慢</div><div><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&lt;</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">mirror</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&gt;</span></div><div><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&lt;</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">id</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&gt;</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: rgb(51, 51, 51);">alimaven</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&lt;/</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">id</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&gt;</span></div><div><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&lt;</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">name</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&gt;</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: rgb(51, 51, 51);">aliyun maven</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&lt;/</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">name</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&gt;</span></div><div><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&lt;</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">url</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&gt;</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: rgb(51, 51, 51);"><a href="http://maven.aliyun.com/nexus/content/groups/public/">http://maven.aliyun.com/nexus/content/groups/public/</a></span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&lt;/</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">url</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&gt;</span></div><div><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&lt;</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">mirrorOf</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&gt;</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: rgb(51, 51, 51);">central</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&lt;/</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">mirrorOf</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&gt;</span></div><div><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&lt;/</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">mirror</span><span style="overflow: visible; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 11.9px; border: 0px; background: 0px 0px transparent; color: #000080;">&gt;</span></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></div><div><br/></div></span>
</div></body></html> 