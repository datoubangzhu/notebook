<html>
<head>
  <title>Maven结构与Maven命令，Maven打包插件</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600480 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="568"/>
<h1>Maven结构与Maven命令，Maven打包插件</h1>

<div>
<span><div><div>创建maven项目时的选择</div><div>GroupId    <span style="min-height: 55px;">是项目组织唯一的标识符。实际生成对应JAVA的包的结构，是main目录里java的</span><a href="https://www.baidu.com/s?wd=%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84&amp;from=1012015a&amp;fenlei=mv6quAkxTZn0IZRqIHckPjm4nH00T1dWryRLnWK9PAf1njNhmvN90ZwV5Hcvrjm3rH6sPfKWUMw85HfYnjn4nH6sgvPsT6KdThsqpZwYTjCEQLGCpyw9Uz4Bmy-bIi4WUvYETgN-TLwGUv3EPHDknj01n16z" style="min-height: 55px;">目录结构</a></div><div><span style="min-height: 55px;">ArtifactId   就是项目的唯一的标识符。实际生成对应项目的名称，就是项目根目录的名称</span></div><div>Version  版本号（IDEA给的默认是 1.0-SNAPSHOT ）</div><div><br/></div><div><span style="min-height: 55px;">百度上表述的比较合适：</span></div><div>groupid和artifactId被统称为“坐标”是为了保证项目唯一性而提出的，如果你要把你项目弄到maven本地仓库去，你想要找到你的项目就必须根据这两个id去查找。</div><div>　　groupId一般分为多个段，这里我只说两段，第一段为域，第二段为公司名称。域又分为org、com、cn等等许多，其中org为非营利组织，com为商业组织。举个apache公司的tomcat项目例子：这个项目的groupId是org.apache，它的域是org（因为tomcat是非营利项目），公司名称是apache，artigactId是tomcat。</div><div>　　比如我创建一个项目，我一般会将groupId设置为cn.zr，cn表示域为中国，zr是我个人姓名缩写，artifactId设置为testProj，表示你这个项目的名称是testProj，依照这个设置，你的包结构最好是cn.zr.testProj打头的，如果有个StudentDao，它的全路径就是cn.zr.testProj.dao.StudentDao</div><div><br/></div><hr/><div><br/></div><div>maven命令：</div><ul><li><div>mvn clean package  将maven项目打包（用于运行等），一般需要引用打包插件。</div></li><ul><li><div>mvn clean package依次执行了clean、resources、compile、testResources、testCompile、test、jar(打包)等７个阶段。</div></li></ul><li><div>mvn clean install  会将项目生成的构件安装到本地Maven仓库。执行命令之前会默认执行mvn clean package</div></li><ul><li><div>mvn clean install依次执行了clean、resources、compile、testResources、testCompile、test、jar(打包)、install等8个阶段。</div></li></ul><li><div>mvn clean deploy   将项目生成的构件分发到远程Maven仓库（需要配置distributionManagement和setting等），在执行命令时会先执行mvn install</div></li><ul><li><div>mvn clean deploy依次执行了clean、resources、compile、testResources、testCompile、test、jar(打包)、install、deploy等９个阶段。</div></li></ul><li><div>区别分析：</div></li><ul><li><div>package命令完成了项目编译、单元测试、打包功能，<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">但没有把打好的可执行jar包（war包或其它形式的包）布署到本地maven仓库和远程maven私服仓库</span></div></li><li><div>install命令完成了项目编译、单元测试、打包功能，同时把打好的可执行jar包（war包或其它形式的包）布署到本地maven仓库，<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">但没有布署到远程maven私服仓库</span></div></li><li><div>deploy命令完成了项目编译、单元测试、打包功能，同时把打好的可执行jar包（war包或其它形式的包）布署到本地maven仓库和远程maven私服仓库　　</div></li></ul></ul><div><br/></div><div><br/></div><div>maven打包插件：</div><div><span style="font-style: italic; font-weight: bold;">注：不进行配置的情况下，无论是package 还是install ，生成最后的jar包都只有几kb，里面没有.class文件。</span></div><hr/><div><br/></div></div><div>提供给springboot的打包插件: <span style="font-weight: bold;"> </span><span style="color: rgb(51, 51, 51); font-family: Monaco;"><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">spring-boot-maven-plugin</span> <span style="font-size: 9pt;">放在启动类所在模块下，用来打包为可直接执行的jar包，如果不放在启动类模块下会提示指定mainClass   </span><b><font style="font-size: 14pt;">如果不是把该项目打包为可直接运行的jar包文件，切记不要使用这个插件，直接使用mvn clean package/install即可。因为这个插件会把其他非启动模块的都给屏蔽掉，不提供给外部使用。</font></b></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&lt;build&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        &lt;finalName&gt;maven-plugin&lt;/finalName&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        &lt;plugins&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            &lt;plugin&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                &lt;groupId&gt;<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">org.springframework.boot</span>&lt;/groupId&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                &lt;artifactId&gt;<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">spring-boot-maven-plugin</span>&lt;/artifactId&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                &lt;version&gt;${spring-boot.version}&lt;/version&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                &lt;executions&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                    &lt;execution&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                        &lt;goals&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                            &lt;goal&gt;repackage&lt;/goal&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                        &lt;/goals&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                    &lt;/execution&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                &lt;/executions&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            &lt;/plugin&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        &lt;/plugins&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt;">&lt;/build&gt;</span></div></div><div><br/></div></span>
</div></body></html> 