<html>
<head>
  <title>IV.mybatis配置和使用</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600480 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="496"/>
<h1>IV.mybatis配置和使用</h1>

<div>
<span><div>在以上搭建的基础上，进行mybatis的使用搭建，此时目录结构如图，增加了dao层</div><div><img src="IV.mybatis配置和使用_files/O(K[MO{U}6CUB40O~{_AYKU.png" type="image/png" data-filename="O(K[MO{U}6CUB40O~{_AYKU.png" width="309"/></div><div><br/></div><div><br/></div><div>1.1  pom依赖添加：要添加的驱动分别为mybatis的jar包和mysql的驱动包，为了方便使用@Data注解，还引入了lombook的jar包依赖</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑">&lt;dependency&gt;</font></span></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&lt;groupId&gt;</span><span style="font-size: 9pt;">org.mybatis</span><span style="font-size: 9pt;">&lt;/groupId&gt;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&lt;artifactId&gt;</span><span style="font-size: 9pt;">mybatis</span><span style="font-size: 9pt;">&lt;/artifactId&gt;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&lt;version&gt;</span><span style="font-size: 9pt;">3.1.1</span><span style="font-size: 9pt;">&lt;/version&gt;</span></font></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑">&lt;/dependency&gt;</font></span></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑">&lt;dependency&gt;</font></span></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&lt;groupId&gt;</span><span style="font-size: 9pt;">mysql</span><span style="font-size: 9pt;">&lt;/groupId&gt;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&lt;artifactId&gt;</span><span style="font-size: 9pt;">mysql-connector-java</span><span style="font-size: 9pt;">&lt;/artifactId&gt;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&lt;version&gt;</span><span style="font-size: 9pt;">6.0.6</span><span style="font-size: 9pt;">&lt;/version&gt;</span></font></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑">&lt;/dependency&gt;</font></span></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑">&lt;dependency&gt;</font></span></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&lt;groupId&gt;</span><span style="font-size: 9pt;">org.projectlombok</span><span style="font-size: 9pt;">&lt;/groupId&gt;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&lt;artifactId&gt;</span><span style="font-size: 9pt;">lombok</span><span style="font-size: 9pt;">&lt;/artifactId&gt;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&lt;version&gt;</span><span style="font-size: 9pt;">1.16.18</span><span style="font-size: 9pt;">&lt;/version&gt;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&lt;scope&gt;</span><span style="font-size: 9pt;">provided</span><span style="font-size: 9pt;">&lt;/scope&gt;</span></font></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑">&lt;/dependency&gt;</font></span></div></div><div><br/></div><div><br/></div><div>1.2  mybatis-config.xml配置：</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&lt;?</span><span style="font-size: 9pt;">xml version</span><span style="font-size: 9pt;">=&quot;1.0&quot;</span> <span style="font-size: 9pt;">encoding</span><span style="font-size: 9pt;">=&quot;UTF-8&quot;</span> <span style="font-size: 9pt;">?&gt;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&lt;!DOCTYPE</span> <span style="font-size: 9pt;">configuration</span> <span style="font-size: 9pt;">PUBLIC</span> <span style="font-size: 9pt;">&quot;-//<a href="http://ibatis.apache.org//DTD" style="color: rgb(0, 0, 0);">ibatis.apache.org//DTD</a> Config 3.0//EN&quot; &quot;<a href="http://ibatis.apache.org/dtd/ibatis-3-config.dtd" style="color: rgb(0, 0, 0);">http://ibatis.apache.org/dtd/ibatis-3-config.dtd</a>&quot;</span><span style="font-size: 9pt;">&gt;</span></font></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑">&lt;configuration&gt;</font></span></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑"><span>    <span>    </span></span>&lt;settings&gt;</font></span></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span>    <span>    </span><span>    </span></span><span>    </span>&lt;setting</span> <span style="font-size: 9pt;">name</span><span style="font-size: 9pt;">=&quot;mapUnderscoreToCamelCase&quot;</span> <span style="font-size: 9pt;">value</span><span style="font-size: 9pt;">=&quot;true&quot;</span><span style="font-size: 9pt;">/&gt;</span></font></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑"><span><span>    </span>    </span>&lt;/settings&gt;</font></span></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span><span>    </span>    </span>&lt;environments</span> <span style="font-size: 9pt;">default</span><span style="font-size: 9pt;">=&quot;environment&quot;</span><span style="font-size: 9pt;">&gt;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span>    <span>    <span>    </span><span>    </span></span></span>&lt;environment</span> <span style="font-size: 9pt;">id</span><span style="font-size: 9pt;">=&quot;environment&quot;</span><span style="font-size: 9pt;">&gt;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span><span>    </span>    <span>    </span><span>    </span><span>    </span><span>    </span></span>&lt;transactionManager</span> <span style="font-size: 9pt;">type</span><span style="font-size: 9pt;">=&quot;JDBC&quot;</span> <span style="font-size: 9pt;">/&gt;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span><span>    </span><span>    </span>    <span>    <span>    </span><span>    </span></span></span>&lt;dataSource</span> <span style="font-size: 9pt;">type</span><span style="font-size: 9pt;">=&quot;POOLED&quot;</span><span style="font-size: 9pt;">&gt;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span><span><span><span>    </span><span>    </span>    </span><span>   <span>    </span><span>    </span><span>    </span> </span>    </span>    </span>&lt;property</span> <span style="font-size: 9pt;">name</span><span style="font-size: 9pt;">=&quot;driver&quot;</span> <span style="font-size: 9pt;">value</span><span style="font-size: 9pt;">=&quot;com.mysql.jdbc.Driver&quot;</span> <span style="font-size: 9pt;">/&gt;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span><span><span>    </span><span>    <span>    </span><span>    </span></span>    </span>   <span>    </span><span>    </span><span>    </span> </span>&lt;property</span> <span style="font-size: 9pt;">name</span><span style="font-size: 9pt;">=&quot;url&quot;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span><span><span><span>    </span><span>    </span>    </span><span>    </span>    </span>    <span>    </span><span>        </span><span>    </span><span>    </span></span>value</span><span style="font-size: 9pt;">=&quot;jdbc:<a href="mysql://localhost:3306/practice?serverTimezone=UTC" style="color: rgb(0, 0, 0);">mysql://localhost:3306/practice?serverTimezone=UTC</a>&quot;</span> <span style="font-size: 9pt;">/&gt;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span><span><span><span>    </span><span>    </span>    </span><span>    </span>    </span>   <span>    </span><span>    </span><span>    </span> </span>&lt;property</span> <span style="font-size: 9pt;">name</span><span style="font-size: 9pt;">=&quot;username&quot;</span> <span style="font-size: 9pt;">value</span><span style="font-size: 9pt;">=&quot;root&quot;</span> <span style="font-size: 9pt;">/&gt;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span><span><span><span>    </span><span>    </span>    </span><span>    </span>    </span>    <span>    </span><span>    </span><span>    </span></span>&lt;property</span> <span style="font-size: 9pt;">name</span><span style="font-size: 9pt;">=&quot;password&quot;</span> <span style="font-size: 9pt;">value</span><span style="font-size: 9pt;">=&quot;123456&quot;</span> <span style="font-size: 9pt;">/&gt;</span></font></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑"><span><span><span><span>    </span><span>    </span>    </span><span>    </span>    </span>    </span>&lt;/dataSource&gt;</font></span></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑"><span><span><span>    </span><span>    </span>    </span>    </span>&lt;/environment&gt;</font></span></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑"><span><span>    </span>    </span>&lt;/environments&gt;</font></span></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑"><span><span>    </span>    </span>&lt;mappers&gt;</font></span></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span><span>    </span>    </span>&lt;mapper</span> <span style="font-size: 9pt;">resource</span><span style="font-size: 9pt;">=&quot;dao/mapper/UserMapper.xml&quot;</span><span style="font-size: 9pt;">/&gt;</span></font></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑"><span><span>    </span>    </span>&lt;/mappers&gt;</font></span></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑">&lt;/configuration&gt;</font></span></div></div><div><br/></div><div><br/></div><div>2.数据库映射表准备：</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">package</span> <span style="font-size: 9pt;">dao.entity</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">import</span> <span style="font-size: 9pt;">lombok.</span><span style="font-size: 9pt;">Data</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">import</span> <span style="font-size: 9pt;">java.io.Serializable</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><br style="font-size: 9pt;"/></font></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑">@Data</font></span></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">public class</span> <span style="font-size: 9pt;">UserBean</span> <span style="font-size: 9pt;">implements</span> <span style="font-size: 9pt;">Serializable {</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span>    </span>private int</span> <span style="font-size: 9pt;">id</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span>    </span>private</span> <span style="font-size: 9pt;">String</span> <span style="font-size: 9pt;">userName</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span>    </span>private</span> <span style="font-size: 9pt;">String</span> <span style="font-size: 9pt;">passWord</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span>    </span>private int</span> <span style="font-size: 9pt;">status</span><span style="font-size: 9pt;">;</span></font></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑">}</font></span></div></div><div><br/></div><div>3.1   IService接口</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">package</span> <span style="font-size: 9pt;">service</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><br style="font-size: 9pt;"/></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">import</span> <span style="font-size: 9pt;">dao.entity.UserBean</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">import</span> <span style="font-size: 9pt;">java.io.IOException</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">import</span> <span style="font-size: 9pt;">java.util.List</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><br style="font-size: 9pt;"/></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">public interface</span> <span style="font-size: 9pt;">IService {</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-style: italic; font-size: 9pt;">/**</span></font></div><div><span style="font-style: italic; font-size: 9pt;"><font color="#000000" face="微软雅黑">* 查询用户表list集合</font></span></div><div><span style="font-style: italic; font-size: 9pt;"><font color="#000000" face="微软雅黑">*/</font></span></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">List&lt;UserBean&gt;</span> <span style="font-size: 9pt;">query</span><span style="font-size: 9pt;">()</span> <span style="font-size: 9pt;">throws</span> <span style="font-size: 9pt;">IOException</span><span style="font-size: 9pt;">;</span></font></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑">}</font></span></div></div><div><br/></div><div><br/></div><div>3.2    IService接口实现类ServiceImp</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">package</span> <span style="font-size: 9pt;">service.impl</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><br style="font-size: 9pt;"/></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">import</span> <span style="font-size: 9pt;">dao.entity.UserBean</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">import</span> <span style="font-size: 9pt;">dao.mapper.UserMapper</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">import</span> <span style="font-size: 9pt;">org.apache.ibatis.io.Resources</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">import</span> <span style="font-size: 9pt;">org.apache.ibatis.session.SqlSession</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">import</span> <span style="font-size: 9pt;">org.apache.ibatis.session.SqlSessionFactory</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">import</span> <span style="font-size: 9pt;">org.apache.ibatis.session.SqlSessionFactoryBuilder</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">import</span> <span style="font-size: 9pt;">service.IService</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><br style="font-size: 9pt;"/></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">import</span> <span style="font-size: 9pt;">java.io.IOException</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">import</span> <span style="font-size: 9pt;">java.io.InputStream</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">import</span> <span style="font-size: 9pt;">java.util.List</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><br style="font-size: 9pt;"/></font></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑">@org.springframework.stereotype.Service</font></span></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">public class</span> <span style="font-size: 9pt;">ServiceImpl</span> <span style="font-size: 9pt;">implements</span> <span style="font-size: 9pt;">IService {</span></font></div><div><font color="#000000" face="微软雅黑"><br style="font-size: 9pt;"/></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span>    </span>@Override</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span>    </span>public</span> <span style="font-size: 9pt;">List&lt;UserBean&gt;</span> <span style="font-size: 9pt;">query</span><span style="font-size: 9pt;">()</span> <span style="font-size: 9pt;">throws</span> <span style="font-size: 9pt;">IOException {</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span>    <span>    </span></span><span>    </span>String resource =</span> <span style="font-size: 9pt;">&quot;config/mybatis-config.xml&quot;</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span>    </span><span>    <span>    </span></span>InputStream inputStream = Resources.</span><span style="font-style: italic; font-size: 9pt;">getResourceAsStream</span><span style="font-size: 9pt;">(resource)</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span><span>    </span>    </span><span>    </span>SqlSessionFactory sqlSessionFactory =</span> <span style="font-size: 9pt;">new</span> <span style="font-size: 9pt;">SqlSessionFactoryBuilder().build(inputStream)</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span><span>    </span>    </span><span>    </span>SqlSession session = sqlSessionFactory.openSession()</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span>    <span>    </span></span><span>    </span>UserMapper userMapper = session.getMapper(UserMapper.</span><span style="font-size: 9pt;">class</span><span style="font-size: 9pt;">)</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span>    </span><span>    <span>    </span></span>List&lt;UserBean&gt; userBean = userMapper.selectUserList()</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span><span>    </span>    </span><span>    </span>for</span><span style="font-size: 9pt;">(UserBean u:userBean) {</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span>    </span><span>    <span>    </span><span>    </span><span>    </span></span>System.</span><span style="font-style: italic; font-size: 9pt;">out</span><span style="font-size: 9pt;">.println(u.toString())</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span>    <span>    </span></span><span>    </span>}</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span>    </span><span>    </span>return</span> <span style="font-size: 9pt;">userBean</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span>    </span>}</span></font></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑">}</font></span></div></div><div><br/></div><div>4.UserMapper</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">package</span> <span style="font-size: 9pt;">dao.mapper</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><br/></span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">import</span> <span style="font-size: 9pt;">dao.entity.UserBean</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">import</span> <span style="font-size: 9pt;">org.apache.ibatis.annotations.</span><span style="font-size: 9pt;">Select</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">import</span> <span style="font-size: 9pt;">java.util.List</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><br style="font-size: 9pt;"/></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">public interface</span> <span style="font-size: 9pt;">UserMapper {</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">List&lt;UserBean&gt;</span> <span style="font-size: 9pt;">selectUserList</span><span style="font-size: 9pt;">()</span><span style="font-size: 9pt;">;</span></font></div><div><font color="#000000" face="微软雅黑"><br style="font-size: 9pt;"/></font></div><div><font color="#000000" face="微软雅黑">//另一种写法，本例未用到</font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">@Select</span><span style="font-size: 9pt;">(</span><span style="font-size: 9pt;">&quot;SELECT * FROM User WHERE id = #{id}&quot;</span><span style="font-size: 9pt;">)</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">UserBean</span> <span style="font-size: 9pt;">autoSelectUserList</span><span style="font-size: 9pt;">(</span><span style="font-size: 9pt;">int</span> <span style="font-size: 9pt;">id)</span><span style="font-size: 9pt;">;</span></font></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑">}</font></span></div></div><div><br/></div><div>5.UserMapper.xml   写和UserMapper中方法名对应的sql语句配置文件</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&lt;?</span><span style="font-size: 9pt;">xml version</span><span style="font-size: 9pt;">=&quot;1.0&quot;</span> <span style="font-size: 9pt;">encoding</span><span style="font-size: 9pt;">=&quot;UTF-8&quot;</span> <span style="font-size: 9pt;">?&gt;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&lt;!DOCTYPE</span> <span style="font-size: 9pt;">mapper</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">PUBLIC</span> <span style="font-size: 9pt;">&quot;-//<a href="http://mybatis.org//DTD" style="color: rgb(0, 0, 0);">mybatis.org//DTD</a> Mapper 3.0//EN&quot;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&quot;<a href="http://mybatis.org/dtd/mybatis-3-mapper.dtd" style="color: rgb(0, 0, 0);">http://mybatis.org/dtd/mybatis-3-mapper.dtd</a>&quot;</span><span style="font-size: 9pt;">&gt;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&lt;mapper</span> <span style="font-size: 9pt;">namespace</span><span style="font-size: 9pt;">=&quot;dao.mapper.UserMapper&quot;</span><span style="font-size: 9pt;">&gt;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span>    </span>&lt;select</span> <span style="font-size: 9pt;">id</span><span style="font-size: 9pt;">=&quot;selectUserList&quot;</span> <span style="font-size: 9pt;">resultType</span><span style="font-size: 9pt;">=&quot;dao.entity.UserBean&quot;</span><span style="font-size: 9pt;">&gt;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span>   <span>    </span> </span><span>    </span>select</span> <span style="font-size: 9pt;">*</span> <span style="font-size: 9pt;">from User;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><span>    </span>&lt;/select&gt;</span></font></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑">&lt;/mapper&gt;</font></span></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 