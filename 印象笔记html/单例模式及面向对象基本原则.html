<html>
<head>
  <title>单例模式及面向对象基本原则</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600480 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="412"/>
<h1>单例模式及面向对象基本原则</h1>

<div>
<span><div><ul><li><div><span style="font-weight: bold; background-color: rgb(255, 250, 165);-evernote-highlight:true;">设计模式（常用23种）</span></div></li></ul><div>1.单例模式：</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">class</span> <span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">HungrySingle{</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">       </span><span style="min-height: 11pt; font-family: Consolas; color: rgb(63, 127, 95); font-size: 10pt;">//因为java自身加载特点导致饿汉式一开始就是线程安全的</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">       </span><span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">private</span> <span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">HungrySingle() {}</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">       </span><span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">private</span> <span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">static</span> <span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">HungrySingle</span> <span style="min-height: 11pt; font-family: Consolas; color: rgb(0, 0, 192); font-size: 10pt; font-style: italic;">single</span> <span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">=</span> <span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">new</span> <span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">HungrySingle();</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">       </span><span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">public</span> <span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">HungrySingle getNewInstance() {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">              </span><span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">return</span> <span style="min-height: 11pt; font-family: Consolas; color: rgb(0, 0, 192); font-size: 10pt; font-style: italic;">single</span><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">;</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">       }</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">}</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">class</span> <span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">LazySingle{</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">       </span><span style="min-height: 11pt; font-family: Consolas; color: rgb(63, 127, 95); font-size: 10pt;">//懒汉</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">   </span> <span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">private</span> <span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">LazySingle() {}</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">   </span> <span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">private</span> <span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">static</span> <span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">LazySingle</span> <span style="min-height: 11pt; font-family: Consolas; color: rgb(0, 0, 192); font-size: 10pt; font-style: italic;">lazySingle</span><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">;</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">   </span> <span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">public</span> <span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">static</span> <span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">LazySingle  getNewInstance() {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">       </span><span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">if</span><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">(</span> <span style="min-height: 11pt; font-family: Consolas; color: rgb(0, 0, 192); font-size: 10pt; font-style: italic;">lazySingle</span> <span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">==</span> <span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">null</span><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">              </span><span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">return</span> <span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">new</span> <span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">LazySingle();</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">       }</span><span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">else</span> <span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">{</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">              </span><span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">return</span> <span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">null</span><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">;</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">       }</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">    }</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">}</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">class</span> <span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">SynLazySingle{</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">       </span><span style="min-height: 11pt; font-family: Consolas; color: rgb(63, 127, 95); font-size: 10pt;">//线程安全的懒汉模式</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">   </span> <span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">private</span> <span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">SynLazySingle() {}</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">   </span> <span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">private</span> <span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">static</span> <span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">LazySingle</span> <span style="min-height: 11pt; font-family: Consolas; color: rgb(0, 0, 192); font-size: 10pt; font-style: italic;">lazySingle</span><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">;</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">   </span> <span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">public</span> <span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">static</span> <span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">synchronized</span> <span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">SynLazySingle  getNewInstance() {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">       </span><span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">if</span><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">(</span> <span style="min-height: 11pt; font-family: Consolas; color: rgb(0, 0, 192); font-size: 10pt; font-style: italic;">lazySingle</span> <span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">==</span> <span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">null</span><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">) {</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">              </span><span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">return</span> <span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">new</span> <span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">SynLazySingle();</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">       }</span><span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">else</span> <span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">{</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">              </span><span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">return</span> <span style="min-height: 11pt; font-family: Consolas; color: rgb(127, 0, 85); font-size: 10pt; font-weight: bold;">null</span><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">;</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">       }</span></div><div style="min-height: 11pt;"><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">    }</span></div><div><span style="min-height: 11pt; font-family: Consolas; font-size: 10pt; color: rgb(51, 51, 51);">}</span></div></div><div><br/></div><div><br/></div><div>2.IO装饰器模式</div><div><br/></div><div><br/></div><div>3.HttpServlet模板设计模式</div><div><br/></div><div><br/></div><div>4.Builder模式：在bean上加一个@Builder注解</div><hr/><ul><li><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">面向对象五大基本原则</span></div></li></ul><div>1.单一职责</div><div>2.开闭原则</div><div>3.里氏替换：子类应该可以替换父类并出现在父类能够出现的任何地方；</div><div>4.依赖倒置：程序要依赖于抽象接口，不要依赖于具体实现；</div><div>5.接口隔离 : <span style="letter-spacing: normal; orphans: 2; text-indent: 28px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-variant-caps: normal; font-variant-ligatures: normal; font-size: 10pt;">使用多个专门的接口比使用单一的总接口要好;</span></span></div><div>//<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">再提一点多态</span></div><div>当需要一张白纸来写字的时候，我们创建白纸类，调用写字方法，当更该需求，需要再有一张红纸来写春联的时候。如果不用多态，那么就在写字的方法里增加白纸或者红纸的判断，以此具体执行不同的代码。但是有多态，就可以创建多个不同类型纸的类，提取出写字方法作为接口。</div><div><br/></div></div></span>
</div></body></html> 