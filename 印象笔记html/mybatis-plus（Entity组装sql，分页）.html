<html>
<head>
  <title>mybatis-plus（Entity组装sql，分页）</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600480 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="521"/>
<h1>mybatis-plus（Entity组装sql，分页）</h1>

<div>
<span><div><span style="word-spacing: 0.05rem; -webkit-font-smoothing: antialiased; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-size-adjust: none; font-size: 10pt; color: rgb(44, 62, 80);">mybatis-plus是mybatis的加强版，体现在：</span></div><div><span style="word-spacing: 0.05rem; -webkit-font-smoothing: antialiased; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-size-adjust: none; font-size: 10pt; color: rgb(44, 62, 80);">1.通用CRUD操作</span><span style="word-spacing: 0.05rem; font-size: 10pt;">：内置通用 Mapper、通用 Service，仅仅通过少量配置即可实现单表大部分 CRUD 操作，更有强大的条件构造器，满足各类使用需求</span></div><div>2.内置分页插件<span style="color: rgb(52, 73, 94);">：基于 Mybatis 物理分页，开发者无需关心具体操作，配置好插件之后，写分页等同于普通List查询</span></div><div>__________________________________________________________________________________________________________________________________________________________</div><div><br/></div><div>1.注解使用</div><div>（1）entity注解：</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font face="微软雅黑">类名上加@TableName注解，值为数据库表名</font></div><div><font face="微软雅黑">主键上加 @TableId（不支持组合主键）  ，如果主键不生成，由数据库自增，可以设置@TableId(type=IdType.AUTO)</font></div><div><font face="微软雅黑">字段注解@TableField（当字段名与表中属性名不一时，用此注解进行映射<span style="font-size: 9pt; color: rgb(51, 51, 51);">;当实体类中有而表中没有的字段，可以利用属性exist，例如@TableField（exist=false）表示排除实体类中的属性</span>）</font></div><div><font face="微软雅黑">是否删除属性标记@TableLogic  此属性使用还要在springapplication中进行配置值</font></div></div><div>（2）application.yaml配置，扫描实体，配置数据库等</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 9pt; color: rgb(0, 0, 0);"><font face="微软雅黑">mybatis-plus:</font></span></div><div><span style="color: rgb(0, 0, 0); font-size: 9pt;"><font face="微软雅黑">  # classpath:/mapper/*Mapper.xml 找mapper.xml所在路径</font></span></div><div><font face="微软雅黑"><span style="color: rgb(0, 0, 0); font-size: 9pt;">  mapper-locations:</span> <span style="color: rgb(0, 0, 0); font-size: 9pt;">classpath:mapper/*Mapper.xml</span></font></div><div><br/></div><div><font face="微软雅黑"><span style="color: rgb(0, 0, 0); font-size: 9pt;">  #</span> <span style="color: rgb(0, 0, 0); font-size: 9pt;">实体扫描，多个</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">package</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">用逗号或者分号分隔</span></font></div><div><font face="微软雅黑"><span style="color: rgb(0, 0, 0); font-size: 9pt;">  typeAliasesPackage:</span> <span style="color: rgb(0, 0, 0); font-size: 9pt;">com.test.dao.entity</span></font></div><div><br/></div><div><span style="color: rgb(0, 0, 0); font-size: 9pt;"><font face="微软雅黑">  global-config: </font></span></div><div><font face="微软雅黑"><span style="color: rgb(0, 0, 0); font-size: 9pt;">    #</span> <span style="color: rgb(0, 0, 0); font-size: 9pt;">主键类型</span> <span style="color: rgb(0, 0, 0); font-size: 9pt;">0:&quot;</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">数据库</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">ID</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">自增</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">&quot;, 1:&quot;</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">用户输入</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">ID&quot;,2:&quot;</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">全局唯一</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">ID (</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">数字类型唯一</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">ID)&quot;, 3:&quot;</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">全局唯一</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">ID UUID&quot;;</span></font></div><div><font face="微软雅黑"><span style="color: rgb(0, 0, 0); font-size: 9pt;">    id-type:</span> <span style="color: rgb(0, 0, 0); font-size: 9pt;">2</span></font></div><div><font face="微软雅黑"><span style="color: rgb(0, 0, 0); font-size: 9pt;">    # </span><span style="color: rgb(0, 0, 0); font-size: 9pt;">字段策略</span> <span style="color: rgb(0, 0, 0); font-size: 9pt;">0:&quot;</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">忽略判断</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">&quot;,1:&quot;</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">非</span> <span style="color: rgb(0, 0, 0); font-size: 9pt;">NULL</span> <span style="color: rgb(0, 0, 0); font-size: 9pt;">判断</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">&quot;),2:&quot;</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">非空判断</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">&quot;</span></font></div><div><font face="微软雅黑"><span style="color: rgb(0, 0, 0); font-size: 9pt;">    field-strategy:</span> <span style="color: rgb(0, 0, 0); font-size: 9pt;">2</span></font></div><div><font face="微软雅黑"><span style="color: rgb(0, 0, 0); font-size: 9pt;">    #</span> <span style="color: rgb(0, 0, 0); font-size: 9pt;">驼峰下划线转换</span></font></div><div><span style="color: rgb(0, 0, 0); font-size: 9pt;"><font face="微软雅黑">    db-column-underline: true</font></span></div><div><font face="微软雅黑"><span style="color: rgb(0, 0, 0); font-size: 9pt;">    #</span> <span style="color: rgb(0, 0, 0); font-size: 9pt;">刷新</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">mapper</span> <span style="color: rgb(0, 0, 0); font-size: 9pt;">调试神器</span></font></div><div><span style="color: rgb(0, 0, 0); font-size: 9pt;"><font face="微软雅黑">    #refresh-mapper: true</font></span></div><div><font face="微软雅黑"><span style="color: rgb(0, 0, 0); font-size: 9pt;">    #</span> <span style="color: rgb(0, 0, 0); font-size: 9pt;">数据库大写下划线转换</span></font></div><div><span style="color: rgb(0, 0, 0); font-size: 9pt;"><font face="微软雅黑">    #capital-mode: true</font></span></div><div><font face="微软雅黑"><span style="color: rgb(0, 0, 0); font-size: 9pt;">    #</span> <span style="color: rgb(0, 0, 0); font-size: 9pt;">逻辑删除配置（下面</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">3</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">个配置）</span></font></div><div><font face="微软雅黑"><span style="color: rgb(0, 0, 0); font-size: 9pt;">    logic-delete-value:</span> <span style="color: rgb(0, 0, 0); font-size: 9pt;">1</span></font></div><div><font face="微软雅黑"><span style="color: rgb(0, 0, 0); font-size: 9pt;">    logic-not-delete-value:</span> <span style="color: rgb(0, 0, 0); font-size: 9pt;">0</span></font></div><div><span style="color: rgb(0, 0, 0); font-size: 9pt;"><font face="微软雅黑">  configuration:</font></span></div><div><font face="微软雅黑"><span style="color: rgb(0, 0, 0); font-size: 9pt;">    #默认驼峰命名：</span> <span style="color: rgb(0, 0, 0); font-size: 9pt;">配置返回数据库</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">(column</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">下划线命名</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">&amp;&amp;</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">返回</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">java</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">实体是驼峰命名</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">)</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">，自动匹配无需</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">as</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">（没开启这个，</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">SQL</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">需要写</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">as</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">：</span> <span style="color: rgb(0, 0, 0); font-size: 9pt;">select user_id as userId</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">）</span></font></div><div><span style="color: rgb(0, 0, 0); font-size: 9pt;"><font style="font-family: 微软雅黑;">    map-underscore-to-camel-case: true</font></span></div><div><span style="font-size: 9pt; color: rgb(0, 0, 0);"><font face="微软雅黑">    cache-enabled: false</font></span></div><div><font face="微软雅黑"><span style="color: rgb(0, 0, 0); font-size: 9pt;">    #</span> <span style="color: rgb(0, 0, 0); font-size: 9pt;">配置</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">JdbcTypeForNull, oracle</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">数据库必须配置</span></font></div><div><font face="微软雅黑"><span style="color: rgb(0, 0, 0); font-size: 9pt;">    jdbc-type-for-null:</span> <span style="color: rgb(0, 0, 0); font-size: 9pt;">'</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">null</span><span style="color: rgb(0, 0, 0); font-size: 9pt;">'</span></font></div></div><div>3.扫描mapper配置</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>mapper接口应与对应的mapper.xml匹配起来，可以通过@MapperScan扫描包，或者单个在mapper接口上加@Mapper注解。（在单表crud里可以不写mapper.xml，但是mappepr接口不能不能漏掉此注解）</div><div>以@MapperScan为例：（除了单独写配置类，也可以直接加在启动类application上）</div><div><br/></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;">@Configuration</font></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;">@MapperScan(MybatisPlusConfig.<span style="font-style: italic;">SCAN_MAPPER_PACKAGE</span>)</font></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;">public class MybatisPlusConfig {</font></div><div><br/></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;">static final String <span style="font-style: italic;">SCAN_MAPPER_PACKAGE</span> = &quot;com.haiyi.i2.*.mapper&quot;;</font></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;"><span style="font-style: italic;">/**</span></font></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;"><span style="font-style: italic;">*</span> <span style="font-style: italic;"><u>分页插件，自动识别数据库类型</u></span></font></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;"><span style="font-style: italic;">*/</span></font></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;">@Bean</font></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;">public PaginationInterceptor paginationInterceptor() {</font></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;">    PaginationInterceptor paginationInterceptor = new PaginationInterceptor();</font></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;">     // 开启 PageHelper 的支持</font></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;">    paginationInterceptor.setLocalPage(true);</font></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;">         return paginationInterceptor;</font></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;">    }</font></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;"><span style="font-style: italic;">     /**</span></font></div><div><font style="font-size: 10pt; font-family: 微软雅黑; color: rgb(0, 0, 0);"><span style="font-style: italic;">       *</span> <span style="font-style: italic;">注入主键生成器，生成主键（<span style="color: #000000; font-size: 10pt; font-style: italic;">匹配@TableId字段,适用于</span>不使用数据库自增情况）</span></font></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;"><span style="font-style: italic;">     */</span></font></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;">    @Bean</font></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;">    public IKeyGenerator keyGenerator() {</font></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;">        return new OracleKeyGenerator();</font></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;">    }</font></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;"><span style="font-style: italic;">    /**</span></font></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;"><span style="font-style: italic;">    * </span><span style="font-style: italic;">注入</span><span style="font-style: italic;">sql</span><span style="font-style: italic;">注入器，暂时未知。。。</span></font></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;"><span style="font-style: italic;">    */</span></font></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;">    @Bean </font></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;">    public ISqlInjector sqlInjector() {</font></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;">        return new LogicSqlInjector();</font></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;">    }</font></div><div><font color="#000000" face="微软雅黑" style="font-size: 10pt;">}</font></div></div><div><br/></div><div><br/></div><div>2.单表CRUD测试用例</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">（1）entity</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">//@Data是lombook.jar中的注解 。此外注意application.yml中mybatisplus有关的配置信息要与entity等相匹配</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">@TableName</span><span style="font-family: Monaco;">(</span><span style="font-family: Monaco;">&quot;TC_CFETS_ORDER&quot;</span><span style="font-family: Monaco;">)</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">@Data</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">public class</span> <span style="font-family: Monaco;">CfetsOrder</span> <span style="font-family: Monaco;">extends</span> <span style="font-family: Monaco;">Model&lt;CfetsOrder&gt; {</span></font></div><div><br style="font-family: Monaco;"/></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private static final long</span> <span style="font-style: italic; font-family: Monaco;">serialVersionUID</span> <span style="font-family: Monaco;">=</span> <span style="font-family: Monaco;">1L</span><span style="font-family: Monaco;">;</span></font></div><div><br style="font-family: Monaco;"/></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">物理主键</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">@TableId</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">Long</span> <span style="font-family: Monaco;">iid</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">订单代码</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">String</span> <span style="font-family: Monaco;">sn</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">客户参考编码</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">String</span> <span style="font-family: Monaco;">customerNo</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">上级订单</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">Long</span> <span style="font-family: Monaco;">parentId</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">外部订单号</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">String</span> <span style="font-family: Monaco;">outSn</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">订单名称</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">String</span> <span style="font-family: Monaco;">title</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">订单日期</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">String</span> <span style="font-family: Monaco;">orderDay</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">订单类型编码</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">String</span> <span style="font-family: Monaco;">orderTypeCode</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">报文实体代码</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">String</span> <span style="font-family: Monaco;">packetEntityCode</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">交易方向</span><span style="font-style: italic; font-family: Monaco;">;0-</span><span style="font-style: italic; font-family: 宋体;">全部</span><span style="font-style: italic; font-family: Monaco;">;1-</span><span style="font-style: italic; font-family: 宋体;">买入</span><span style="font-style: italic; font-family: Monaco;">/</span><span style="font-style: italic; font-family: 宋体;">逆回购</span><span style="font-style: italic; font-family: Monaco;">/</span><span style="font-style: italic; font-family: 宋体;">存入</span><span style="font-style: italic; font-family: Monaco;">/</span><span style="font-style: italic; font-family: 宋体;">借入</span><span style="font-style: italic; font-family: Monaco;">;2-</span><span style="font-style: italic; font-family: 宋体;">卖出</span><span style="font-style: italic; font-family: Monaco;">/</span><span style="font-style: italic; font-family: 宋体;">正回购</span><span style="font-style: italic; font-family: Monaco;">/</span><span style="font-style: italic; font-family: 宋体;">存出</span><span style="font-style: italic; font-family: Monaco;">/</span><span style="font-style: italic; font-family: 宋体;">借出</span><span style="font-style: italic; font-family: Monaco;">;B-</span><span style="font-style: italic; font-family: 宋体;">双边</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">String</span> <span style="font-family: Monaco;">tradeDirection</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">交易金额</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">BigDecimal</span> <span style="font-family: Monaco;">tradeAmount</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">报价类型</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">String</span> <span style="font-family: Monaco;">quoteTypeCode</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">交易市场</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">String</span> <span style="font-family: Monaco;">marketCode</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">有效时间</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">Integer</span> <span style="font-family: Monaco;">validTime</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">订单操作状态</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">String</span> <span style="font-family: Monaco;">operatingState</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">订单状态</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">String</span> <span style="font-family: Monaco;">orderStatus</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">* 0-</span><span style="font-style: italic; font-family: 宋体;">非草稿</span><span style="font-style: italic; font-family: Monaco;">;1-</span><span style="font-style: italic; font-family: 宋体;">草稿</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">Integer</span> <span style="font-family: Monaco;">draftFlag</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">本方交易员</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">String</span> <span style="font-family: Monaco;">traderId</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">本方机构代码</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">String</span> <span style="font-family: Monaco;">institutionCode</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">用户主键</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">Integer</span> <span style="font-family: Monaco;">userId</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">订单来源</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">String</span> <span style="font-family: Monaco;">origin</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">订单时间</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">Integer</span> <span style="font-family: Monaco;">dateline</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">原始订单</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">Long</span> <span style="font-family: Monaco;">rawOrderId</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">订单备注</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">String</span> <span style="font-family: Monaco;">orderRemark</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">变更次数</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">Integer</span> <span style="font-family: Monaco;">changeTimes</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">外围系统操作时间</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">Integer</span> <span style="font-family: Monaco;">operationTime</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">回调地址</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">String</span> <span style="font-family: Monaco;">notifyUrl</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">外围系统操作者</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">String</span> <span style="font-family: Monaco;">outOperator</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">资金账户</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">String</span> <span style="font-family: Monaco;">capitalAccount</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">托管账户</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">String</span> <span style="font-family: Monaco;">hostingAccount</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">创建时间</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">Integer</span> <span style="font-family: Monaco;">createTime</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">创建人</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">Long</span> <span style="font-family: Monaco;">creater</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">修改时间</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">Integer</span> <span style="font-family: Monaco;">updateTime</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">修改人</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">Long</span> <span style="font-family: Monaco;">updater</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">删除标记</span><span style="font-style: italic; font-family: Monaco;">;0-</span><span style="font-style: italic; font-family: 宋体;">未删除</span><span style="font-style: italic; font-family: Monaco;">;1-</span><span style="font-style: italic; font-family: 宋体;">已删除</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">@TableLogic</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">Integer</span> <span style="font-family: Monaco;">deleteFlag</span><span style="font-family: Monaco;">;</span></font></div><div><br style="font-family: Monaco;"/></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">报价编号</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">String</span> <span style="font-family: Monaco;">quoteId</span><span style="font-family: Monaco;">;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">报价发生时间</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">Date</span> <span style="font-family: Monaco;">transactTime</span><span style="font-family: Monaco;">;</span></font></div><div><br style="font-family: Monaco;"/></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">成交通知地址</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">String</span> <span style="font-family: Monaco;">dealUrl</span><span style="font-family: Monaco;">;</span></font></div><div><br style="font-family: Monaco;"/></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">/**</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*</span> <span style="font-style: italic; font-family: 宋体;">请求报价编号</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-style: italic; font-family: Monaco;">*/</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">private</span> <span style="font-family: Monaco;">String</span> <span style="font-family: Monaco;">quoteReqId</span><span style="font-family: Monaco;">;</span></font></div><div><br style="font-family: Monaco;"/></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">  @Override</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">  protected</span> <span style="font-family: Monaco;">Serializable</span> <span style="font-family: Monaco;">pkVal</span><span style="font-family: Monaco;">() {</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">  return this.iid;</span></font></div><div><font color="#000000" style="font-size: 8pt;"><span style="font-family: Monaco;">  }</span></font></div><div><font style="font-size: 8pt;"><span style="font-family: Monaco; color: rgb(51, 51, 51);">  public String toString(){</span></font></div><div><font style="font-size: 8pt;"><span style="font-family: Monaco; color: rgb(51, 51, 51);">   //此处复写toString方法代码略去 </span></font></div><div><font style="font-size: 8pt;"><span style="font-family: Monaco; color: rgb(51, 51, 51);">   }</span></font></div><div><span style="font-family: Monaco; color: rgb(51, 51, 51);"><font style="font-size: 8pt;">}</font></span></div><div>（2）<font face="微软雅黑">dao</font></div><div>//BaseMapper接口提供了一系列单表操作的方法</div><div><font color="#000000"><span style="font-family: Monaco; font-size: 9pt;">public interface</span> <span style="font-family: Monaco; font-size: 9pt;">CfetsOrderMapper</span> <span style="font-family: Monaco; font-size: 9pt;">extends</span> <span style="font-family: Monaco; font-size: 9pt;">BaseMapper&lt;CfetsOrder&gt; {</span></font></div><div><span style="font-family: Monaco; font-size: 9pt;"><font color="#000000">}</font></span></div><div><font color="#000000">（3）<font face="微软雅黑">service</font></font></div><div><font color="#000000">// <font style="font-size: 8pt;"><span style="font-family: Verdana, Arial, Helvetica, sans-serif; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font>继承了ServiceImpl类,mybatis-plus通过这种方式为我们注入了<span style="font-family: Monaco; font-size: 9pt;">CfetsOrder</span>,这样可以使用service层默认为我们提供的很多方法,也可以调用我们自己在dao层编写的操作数据库的方法.</font></span></font></font></div><div><span style="font-family: Monaco; font-size: 9pt;"><font color="#000000">@Service</font></span></div><div><font color="#000000"><span style="font-family: Monaco; font-size: 9pt;">public class</span> <span style="font-family: Monaco; font-size: 9pt;">PubMarketCBTBondDealTestService</span> <span style="font-family: Monaco; font-size: 9pt;">extends</span> <span style="font-family: Monaco; font-size: 9pt;">ServiceImpl&lt;CfetsOrderMapper</span><span style="font-family: Monaco; font-size: 9pt;">,</span> <span style="font-family: Monaco; font-size: 9pt;">CfetsOrder&gt; {</span></font></div><div><font color="#000000"><span style="font-family: Monaco; font-size: 9pt;">public</span> <span style="font-family: Monaco; font-size: 9pt;">List&lt;CfetsOrder&gt;</span> <span style="font-family: Monaco; font-size: 9pt;">queryBase</span><span style="font-family: Monaco; font-size: 9pt;">() {</span></font></div><div><font color="#000000"><span style="font-family: Monaco; font-size: 9pt;">    String</span> <span style="font-family: Monaco; font-size: 9pt;">order_type_code=</span> <span style="font-family: Monaco; font-size: 9pt;">&quot;QUOTE&quot;</span><span style="font-family: Monaco; font-size: 9pt;">;</span></font></div><div><font color="#000000"><span style="font-family: Monaco; font-size: 9pt;">    String iid =</span> <span style="font-family: Monaco; font-size: 9pt;">&quot;iid&quot;</span><span style="font-family: Monaco; font-size: 9pt;">;</span></font></div><div><font color="#000000">//selectList是BaseMapper提供的方法</font></div><div><font color="#000000"><span style="font-family: Monaco; font-size: 9pt;">List&lt;CfetsOrder&gt; list =</span> <span style="font-family: Monaco; font-size: 9pt;">baseMapper</span><span style="font-family: Monaco; font-size: 9pt;">.selectList(</span><span style="font-family: Monaco; font-size: 9pt;">new</span> <span style="font-family: Monaco; font-size: 9pt;">EntityWrapper&lt;CfetsOrder&gt;().eq(</span><span style="font-family: Monaco; font-size: 9pt;">&quot;ORDER_TYPE_CODE&quot;</span><span style="font-family: Monaco; font-size: 9pt;">,</span> <span style="font-family: Monaco; font-size: 9pt;">order_type_code).orderBy(iid))</span><span style="font-family: Monaco; font-size: 9pt;">;</span></font></div><div><font color="#000000"><span style="font-family: Monaco; font-size: 9pt;">for</span> <span style="font-family: Monaco; font-size: 9pt;">(CfetsOrder cfetsOrder : list) {</span></font></div><div><font color="#000000"><span style="font-family: Monaco; font-size: 9pt;">LOGGER</span><span style="font-family: Monaco; font-size: 9pt;">.info(</span><span style="font-family: Monaco; font-size: 9pt;">&quot;</span><span style="font-family: 宋体; font-size: 9pt;">执行结果：</span><span style="font-family: Monaco; font-size: 9pt;">&quot;</span> <span style="font-family: Monaco; font-size: 9pt;">+ cfetsOrder.toString())</span><span style="font-family: Monaco; font-size: 9pt;">;</span></font></div><div><font color="#000000"><span style="font-family: Monaco; font-size: 9pt;">}</span></font></div><div><font color="#000000"><span style="font-family: Monaco; font-size: 9pt;">return</span> <span style="font-family: Monaco; font-size: 9pt;">list</span><span style="font-family: Monaco; font-size: 9pt;">;</span></font></div><div><font color="#000000"><span style="font-family: Monaco; font-size: 9pt;">}</span></font></div><div><span style="font-family: Monaco; font-size: 9pt;"><font color="#000000">}</font></span></div><div><font color="#000000">（4）测试：</font></div><div><span style="font-family: Monaco; font-size: 9pt;"><font color="#000000">@Test</font></span></div><div><font color="#000000"><span style="font-family: Monaco; font-size: 9pt;">public void</span><span style="font-family: Monaco; font-size: 9pt;"> </span><span style="font-family: Monaco; font-size: 9pt;">queryCBTBondTestDeal</span><span style="font-family: Monaco; font-size: 9pt;">(){</span></font></div><div><span style="font-family: Monaco; font-size: 9pt;"><font color="#000000">  @Autowired</font></span></div><div><font color="#000000"><span style="font-family: Monaco; font-size: 9pt;">  PubMarketCBTBondDealService</span> <span style="font-family: Monaco; font-size: 9pt;">pubMarketCBTBondDealService</span><span style="font-family: Monaco; font-size: 9pt;">;</span></font></div><div><font color="#000000"><span style="font-family: Monaco; font-size: 9pt;">List&lt;CfetsOrder&gt; list =</span> <span style="font-family: Monaco; font-size: 9pt;">pubMarketCBTBondDealTestService</span><span style="font-family: Monaco; font-size: 9pt;">.queryBase()</span><span style="font-family: Monaco; font-size: 9pt;">;</span></font></div><div><font color="#000000"><span style="font-family: Monaco; font-size: 9pt;">  for</span> <span style="font-family: Monaco; font-size: 9pt;">(CfetsOrder cfetsOrder : list){</span></font></div><div><font color="#000000"><span style="font-family: Monaco; font-size: 9pt;">      System.</span><span style="font-style: italic; font-family: Monaco; font-size: 9pt;">out</span><span style="font-family: Monaco; font-size: 9pt;">.println(cfetsOrder.toString())</span><span style="font-family: Monaco; font-size: 9pt;">;</span></font></div><div><font color="#000000"><span style="font-family: Monaco; font-size: 9pt;">  }</span></font></div><div><span style="font-family: Monaco; font-size: 9pt;"><font color="#000000">}</font></span></div><div><br/></div></div><div><br/></div><div><br/></div><div>3.分页测试用例（entity和dao不变，<span style="text-decoration: underline;">注意配置文件要开启分页插件</span>）</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font face="微软雅黑" style="font-size: 9pt;">（1）Controller层</font></div><div><font face="微软雅黑" style="font-size: 9pt;">//两个参数分别是第多少页，每页显示多少条数据</font></div><div><font color="#000000" face="微软雅黑" style="font-size: 9pt;">@RequestMapping(value = &quot;/page&quot;)</font></div><div><font color="#000000" face="微软雅黑" style="font-size: 9pt;">public ResponseEntity queryPageTest(</font></div><div><font color="#000000" face="微软雅黑" style="font-size: 9pt;">    @RequestParam(&quot;page&quot;) int page,</font></div><div><font color="#000000" face="微软雅黑" style="font-size: 9pt;">    @RequestParam(&quot;size&quot;) int size</font></div><div><font color="#000000" face="微软雅黑" style="font-size: 9pt;">){</font></div><div><font color="#000000" face="微软雅黑" style="font-size: 9pt;">    Page&lt;CfetsOrder&gt; cfetsOrderPage = new Page(page,size);</font></div><div><font color="#000000" face="微软雅黑" style="font-size: 9pt;">          cfetsOrderPage = pubMarketCBTBondDealTestService.queryPage(cfetsOrderPage);</font></div><div>     //返回值解析为指定格式的json字符串</div><div><font color="#000000" face="微软雅黑" style="font-size: 9pt;">          return ResponseEntity.<span style="font-style: italic;">ok</span>(cfetsOrderPage);</font></div><div><font color="#000000" face="微软雅黑" style="font-size: 9pt;">}</font></div><div><br/></div><div><font color="#000000">(2)Service层（EntityWrapper方式）</font></div><div><span style="font-family: Monaco; font-size: 9pt;"><font color="#000000">@Service</font></span></div><div><font color="#000000"><span style="font-family: Monaco; font-size: 9pt;">public class</span> <span style="font-family: Monaco; font-size: 9pt;">PubMarketCBTBondDealTestService</span> <span style="font-family: Monaco; font-size: 9pt;">extends</span> <span style="font-family: Monaco; font-size: 9pt;">ServiceImpl&lt;CfetsOrderMapper</span><span style="font-family: Monaco; font-size: 9pt;">,</span> <span style="font-family: Monaco; font-size: 9pt;">CfetsOrder&gt; {</span></font></div><div><font><span style="font-size: 9pt;"><font color="#000000" style="font-family: Monaco;">   </font></span></font></div><div><font><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">   public</span> <span style="font-size: 9pt;">Page&lt;CfetsOrder&gt;</span> <span style="font-size: 9pt;">queryPage</span><span style="font-size: 9pt;">(Page page){</span></font></span></font></div><div><font><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">        </span></font></span></font></div><div><font><span style="font-size: 9pt;">        Page&lt;CfetsOrder&gt; pageCfetsOrder =</span> <span style="color: #cc7832; font-size: 9pt;">new</span> <span style="font-size: 9pt;">Page&lt;&gt;(page.getCurrent()</span><span style="color: #cc7832; font-size: 9pt;">,</span> <span style="font-size: 9pt;">page.getSize())</span><span style="color: #cc7832; font-size: 9pt;">;</span></font></div><div><font><span style="font-size: 9pt;">        List&lt;CfetsOrder&gt; list =</span> <span style="color: #9876aa; font-size: 9pt;">baseMapper</span><span style="font-size: 9pt;">.selectPage(pageCfetsOrder</span><span style="color: #cc7832; font-size: 9pt;">,new</span> <span style="font-size: 9pt;">EntityWrapper&lt;CfetsOrder&gt;())</span><span style="color: #cc7832; font-size: 9pt;">;</span></font></div><div><font><span style="font-size: 9pt;">        page.setTotal(pageCfetsOrder.getTotal())</span><span style="color: #cc7832; font-size: 9pt;">;</span></font></div><div><font><span style="font-size: 9pt;">        page.setRecords(list)</span><span style="color: #cc7832; font-size: 9pt;">;</span></font></div><div><font><span style="color: #cc7832; font-size: 9pt;">        return</span> <span style="font-size: 9pt;">page;</span></font></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑">   }</font></span></div><div><span style="font-family: Monaco; font-size: 9pt;"><font color="#000000">}</font></span></div><div><br/></div><div><br style="font-family: Monaco; font-size: 9pt;"/></div><div><span style="color: rgb(0, 0, 0); font-family: Monaco; font-size: 9pt;">(2)Service层（自己写sql/mapper方式）</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(0, 0, 0);">@Service</span></div><div><span style="color: rgb(0, 0, 0); font-family: Monaco; font-size: 9pt;">public class</span> <span style="color: rgb(0, 0, 0); font-family: Monaco; font-size: 9pt;">PubMarketCBTBondDealTestService</span> <span style="color: rgb(0, 0, 0); font-family: Monaco; font-size: 9pt;">extends</span> <span style="color: rgb(0, 0, 0); font-family: Monaco; font-size: 9pt;">ServiceImpl&lt;CfetsOrderMapper</span><span style="color: rgb(0, 0, 0); font-family: Monaco; font-size: 9pt;">,</span> <span style="color: rgb(0, 0, 0); font-family: Monaco; font-size: 9pt;">CfetsOrder&gt; {</span></div><div><span style="font-size: 9pt; font-family: 微软雅黑; color: rgb(0, 0, 0);">    public</span> <span style="font-size: 9pt; font-family: 微软雅黑; color: rgb(0, 0, 0);">Page&lt;CfetsOrder&gt;</span> <span style="font-size: 9pt; font-family: 微软雅黑; color: rgb(0, 0, 0);">queryPage</span><span style="font-size: 9pt; font-family: 微软雅黑; color: rgb(0, 0, 0);">(Page page){</span></div><div><span style="font-size: 9pt; font-family: Monaco;"><span style="color: #cc7832; font-family: Monaco; font-size: 9pt;">            public</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">Page&lt;CfetsOrder&gt;</span> <span style="color: #ffc66d; font-family: Monaco; font-size: 9pt;">queryPage</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">(Page&lt;CfetsOrder&gt; page){</span></span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            Page&lt;CfetsOrder&gt; pageCfetsOrder =</span> <span style="color: #cc7832; font-family: Monaco; font-size: 9pt;">new</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">Page&lt;&gt;(page.getCurrent()</span><span style="color: #cc7832; font-family: Monaco; font-size: 9pt;">,</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">page.getSize())</span><span style="color: #cc7832; font-family: Monaco; font-size: 9pt;">;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            List&lt;CfetsOrder&gt; list =</span> <span style="color: #9876aa; font-family: Monaco; font-size: 9pt;">baseMapper</span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">.queryPageCfetsOrder(pageCfetsOrder)</span><span style="color: #cc7832; font-family: Monaco; font-size: 9pt;">;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            page.setTotal(pageCfetsOrder.getTotal())</span><span style="color: #cc7832; font-family: Monaco; font-size: 9pt;">;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            page.setRecords(list)</span><span style="color: #cc7832; font-family: Monaco; font-size: 9pt;">;</span></div><div><span style="color: #cc7832; font-family: Monaco; font-size: 9pt;">            return</span> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">page</span><span style="color: #cc7832; font-family: Monaco; font-size: 9pt;">;</span></div><div><span style="font-size: 9pt; font-family: 微软雅黑; color: rgb(0, 0, 0);">    }</span></div><div><span style="color: rgb(0, 0, 0); font-family: Monaco; font-size: 9pt;">}</span></div><div><span style="color: rgb(0, 0, 0); font-family: Monaco; font-size: 9pt;">//以下是mapper接口：</span></div><div><font color="#000000"><span style="font-family: Monaco; font-size: 9pt;">public interface</span> <span style="font-family: Monaco; font-size: 9pt;">CfetsOrderMapper</span> <span style="font-family: Monaco; font-size: 9pt;">extends</span> <span style="font-family: Monaco; font-size: 9pt;">BaseMapper&lt;CfetsOrder&gt; {</span></font></div><div><font color="#000000"><span style="font-style: italic; font-family: Monaco; font-size: 9pt;">/**</span></font></div><div><font color="#000000"><span style="font-style: italic; font-family: Monaco; font-size: 9pt;">*</span> <span style="font-style: italic; font-family: 宋体; font-size: 9pt;">查询分页数据</span></font></div><div><font color="#000000"><span style="font-style: italic; font-family: Monaco; font-size: 9pt;">*</span> <span style="font-weight: bold; font-style: italic; font-family: Monaco; font-size: 9pt;">@param</span> <span style="font-style: italic; font-family: Monaco; font-size: 9pt;">page</span> <span style="font-style: italic; font-family: 宋体; font-size: 9pt;">分页插件</span></font></div><div><font color="#000000"><span style="font-style: italic; font-family: Monaco; font-size: 9pt;">*</span> <span style="font-weight: bold; font-style: italic; font-family: Monaco; font-size: 9pt;">@return</span> <span style="font-style: italic; font-family: 宋体; font-size: 9pt;">分页信息</span></font></div><div><font color="#000000"><span style="font-style: italic; font-family: Monaco; font-size: 9pt;">*/</span></font></div><div><span style="font-family: Monaco; font-size: 9pt;">List&lt;CfetsOrder&gt;</span> <span style="font-family: Monaco; font-size: 9pt;"><font color="#000000">queryPageCfetsOrder</font></span><span style="font-family: Monaco; font-size: 9pt;"><font color="#000000">(P</font>age&lt;CfetsOrder&gt; page)</span><span style="color: #cc7832; font-family: Monaco; font-size: 9pt;">;</span></div><div><span style="font-family: Monaco; font-size: 9pt;">}</span></div><div>//以下是mapper.xml接口</div><div><br/></div><div><br/></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&lt;?</span><span style="font-size: 9pt;">xml version</span><span style="font-size: 9pt;">=&quot;1.0&quot;</span> <span style="font-size: 9pt;">encoding</span><span style="font-size: 9pt;">=&quot;UTF-8&quot;</span><span style="font-size: 9pt;">?&gt;</span></font></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑">&lt;!--</font></span></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑">~ DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.</font></span></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑">~ Copyright (c) 2012-2018. haiyi Inc.</font></span></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑">~ springbootdemo2 All rights reserved.</font></span></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑">--&gt;</font></span></div><div><br style="font-size: 9pt;"/></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&lt;!DOCTYPE</span> <span style="font-size: 9pt;">mapper</span> <span style="font-size: 9pt;">PUBLIC</span> <span style="font-size: 9pt;">&quot;-//<a href="http://mybatis.org//DTD" style="color: rgb(0, 0, 0);">mybatis.org//DTD</a> Mapper 3.0//EN&quot;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&quot;<a href="http://mybatis.org/dtd/mybatis-3-mapper.dtd" style="color: rgb(0, 0, 0);">http://mybatis.org/dtd/mybatis-3-mapper.dtd</a>&quot;</span><span style="font-size: 9pt;">&gt;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&lt;mapper</span> <span style="font-size: 9pt;">namespace</span><span style="font-size: 9pt;">=&quot;com.test.dao.mapper.CfetsOrderMapper&quot;</span><span style="font-size: 9pt;">&gt;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&lt;select</span> <span style="font-size: 9pt;">id</span><span style="font-size: 9pt;">=&quot;queryPageCfetsOrder&quot;</span> <span style="font-size: 9pt;">resultType</span><span style="font-size: 9pt;">=&quot;com.test.dao.entity.CfetsOrder&quot;</span><span style="font-size: 9pt;">&gt;</span></font></div><div><font color="#000000"><font face="微软雅黑"><span style="font-size: 9pt;">selec</span></font><span style="font-family: Monaco; font-size: 9pt;">t</span> <span style="font-family: Monaco; font-size: 9pt;">*</span> <span style="font-family: Monaco; font-size: 9pt;">FROM TC_CFETS_ORDER</span></font></div><div><font color="#000000"><span style="font-family: Monaco; font-size: 9pt;">&lt;/select&gt;</span></font></div><div><span style="font-family: Monaco; font-size: 9pt;"><font color="#000000">&lt;/mapper&gt;</font></span></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div>（3）测试</div><div>请求url为</div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"> </span><span style="color: rgb(80, 80, 80); font-family: OpenSans, Helvetica, Arial, sans-serif; font-size: 12px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 250);"><a href="http://localhost:8080/pubmarket/page?page=1&amp;size=10">http://localhost:8080/pubmarket/page?page=1&amp;size=10</a></span></div><div><br/></div><div><br/></div><div>返回值类型为：</div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">{</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&quot;total&quot;: 350,</span></span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    &quot;size&quot;: 10,</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    &quot;current&quot;: 1,</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    &quot;records&quot;: [  <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">],</span></span></div><div><br/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    &quot;pages&quot;: 0</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div></div><div><br/></div><div><br/></div><div>参考文档：</div><div><span style="color: rgb(52, 73, 94);">官方文档 </span><span style="color: rgb(52, 73, 94);"> </span><a href="http://mp.baomidou.com/#/wrapper?id=%e6%9d%a1%e4%bb%b6%e5%8f%82%e6%95%b0%e8%af%b4%e6%98%8e" style="color: rgb(52, 73, 94); font-size: 11pt; font-family: &quot;Source Sans Pro&quot;; text-decoration: underline;">http://mp.baomidou.com/#/wrapper?id=%e6%9d%a1%e4%bb%b6%e5%8f%82%e6%95%b0%e8%af%b4%e6%98%8e</a></div><div>博客   <a href="https://blog.csdn.net/helloPurple/article/details/78715508">https://blog.csdn.net/helloPurple/article/details/78715508</a></div></span>
</div></body></html> 