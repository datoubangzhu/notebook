<html>
<head>
  <title>java优化算法——树的实现</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600480 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="406"/>
<h1>java优化算法——树的实现</h1>

<div>
<span><div><ol><li><div>树形结构数据统计</div></li></ol><div><br/></div><ul><li><div>基础数据：</div></li></ul><div><img src="java优化算法——树的实现_files/36J(Q{7@VWRN6`_G7RO9%GB.png" type="image/png" data-filename="36J(Q{7@VWRN6`_G7RO9%GB.png"/></div><ul><li><div>代码实现</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">@Data</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">@Builder</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">public class PortfolioTreeDto {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    /**</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     * 投资组合ID</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     */</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    private Long                  id;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    /**</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     * 投资组合Code</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     */</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    private String                code;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    /**</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     * 投资组合名称</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     */</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    private String                title;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    /**</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     * 上级资源id</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     */</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    private Long                  parentId;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    /**</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     * 子节点信息</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     */</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    private List&lt;PortfolioTreeDto&gt;   children;</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    /**</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     * 从QueryRealTimeProfitPo对象构建Dto对象 并转换为树的格式</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     *</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     * @return 构建的DTO对象转换为树的格式</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     */</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    public static List&lt;PortfolioTreeDto&gt; overrideFromPortfolioToTree(List&lt;Portfolio&gt; portlios, List&lt;PortfolioRelations&gt; portfolioRelations)</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        final List&lt;PortfolioTreeDto&gt; treePortfolio = Lists.newArrayList();</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        final List&lt;PortfolioTreeDto&gt; portfolioTreeDtos = overrideFromPortfolios(portlios ,portfolioRelations);</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">for (PortfolioTreeDto dto : portfolioTreeDtos) {</span></span></div><div><span style="font-family: Monaco;font-size: 9pt;color: rgb(51, 51, 51);background-color: rgb(255, 250, 165);-evernote-highlight:true;">            final Long iid = dto.getId();</span></div><div><span style="font-family: Monaco;font-size: 9pt;color: rgb(51, 51, 51);background-color: rgb(255, 250, 165);-evernote-highlight:true;">            final Long dtoParentId = dto.getParentId();</span></div><div><span style="font-family: Monaco;font-size: 9pt;color: rgb(51, 51, 51);background-color: rgb(255, 250, 165);-evernote-highlight:true;">            List&lt;PortfolioTreeDto&gt; children = dto.getChildren();</span></div><div><span style="font-family: Monaco;font-size: 9pt;color: rgb(51, 51, 51);background-color: rgb(255, 250, 165);-evernote-highlight:true;">            if (CollectionUtils.isEmpty(children)) {</span></div><div><span style="font-family: Monaco;font-size: 9pt;color: rgb(51, 51, 51);background-color: rgb(255, 250, 165);-evernote-highlight:true;">                children = Lists.newArrayList();</span></div><div><span style="font-family: Monaco;font-size: 9pt;color: rgb(51, 51, 51);background-color: rgb(255, 250, 165);-evernote-highlight:true;">            }</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco;font-size: 9pt;color: rgb(51, 51, 51);background-color: rgb(255, 250, 165);-evernote-highlight:true;">            for (PortfolioTreeDto resourceTreeDto : portfolioTreeDtos) {</span></div><div><span style="font-family: Monaco;font-size: 9pt;color: rgb(51, 51, 51);background-color: rgb(255, 250, 165);-evernote-highlight:true;">                final Long parentId = resourceTreeDto.getParentId();</span></div><div><span style="font-family: Monaco;font-size: 9pt;color: rgb(51, 51, 51);background-color: rgb(255, 250, 165);-evernote-highlight:true;">                if (ObjectUtils.allNotNull(iid, parentId) &amp;&amp; ObjectUtil.equal(iid, parentId)) {</span></div><div><span style="background-color: rgb(255, 250, 165);font-size: 9pt;color: rgb(51, 51, 51);font-family: Monaco;-evernote-highlight:true;">                    //注意此处插入的是平级的节点对象，当再在遍历节点对象时，还会给节点对象赋子节点对象</span></div><div><span style="font-family: Monaco;font-size: 9pt;color: rgb(51, 51, 51);background-color: rgb(255, 250, 165);-evernote-highlight:true;">                    children.add(resourceTreeDto);</span></div><div><span style="font-family: Monaco;font-size: 9pt;color: rgb(51, 51, 51);background-color: rgb(255, 250, 165);-evernote-highlight:true;">                }</span></div><div><span style="font-family: Monaco;font-size: 9pt;color: rgb(51, 51, 51);background-color: rgb(255, 250, 165);-evernote-highlight:true;">            }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            dto.setChildren(children);</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            // 如果这个对象没有上级,那它就是首层</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            if (ObjectUtil.isNull(dtoParentId) || NumberUtils.LONG_ZERO.equals(dtoParentId)) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                treePortfolio.add(dto);</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        return treePortfolio;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    }</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    /**</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     * 从List&lt;Portfolio&gt;和List&lt;PortfolioRelations&gt; portfolioRelations对象构建Dto对象</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     *</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     *</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     * @return 构建的DTO对象</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     */</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    public static List&lt;PortfolioTreeDto&gt; overrideFromPortfolios(List&lt;Portfolio&gt; portlios,List&lt;PortfolioRelations&gt; portfolioRelations) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        List&lt;PortfolioTreeDto&gt; queryRealTimeProfitTreeDtos = Lists.newArrayListWithCapacity(portlios.size());</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        for (Portfolio portlio : portlios) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            PortfolioRelations tmpPortfolioRelations = new PortfolioRelations();</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            for(PortfolioRelations portfolioRelations1 : portfolioRelations)</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                if(portfolioRelations1.getPortfolioId().equals(portlio.getId()))</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                    tmpPortfolioRelations = portfolioRelations1;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                    break;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            final PortfolioTreeDto iQueryRealTimeProfitTreeDto = overrideFromPortfolio(portlio , tmpPortfolioRelations);</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            queryRealTimeProfitTreeDtos.add(iQueryRealTimeProfitTreeDto);</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        return queryRealTimeProfitTreeDtos;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    }</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    /**</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     * 从Portfolio和PortfolioRelations对象构建PortfolioTreeDto对象</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     *</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     *</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     * @return 构建的DTO对象</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     */</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    public static PortfolioTreeDto overrideFromPortfolio(Portfolio portlio,PortfolioRelations portfolioRelation) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        return PortfolioTreeDto.builder()</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                .title(MoreObjects.firstNonNull(portlio.getTitle(), StringPool.EMPTY))</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                .id(portlio.getId())</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                .code(portlio.getCode())</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                .parentId(portfolioRelation.getRelationPortfolioId())</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                .build();</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div></div><div><br/></div><ul><li><div>练习demo,构建省市县三级目录</div></li></ul><div>Po代码</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">package com.gm.demo;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">import java.util.List;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">import lombok.Builder;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">@Builder</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">public class Country {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        public Integer       id;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        public Integer       parentId;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        public String        name;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        public List&lt;Country&gt; countries;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div></div><div><br/></div></div><div>测试代码</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">/*</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">* DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">* Copyright (c) 2012-2018. haiyi Inc.</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">* pawo-power All rights reserved.</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">*/</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">package com.gm.demo;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">import org.junit.Test;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">import java.util.ArrayList;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">import cn.hutool.core.collection.CollectionUtil;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">import cn.hutool.core.util.ObjectUtil;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">import lombok.Builder;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">import java.util.List;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">/**</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">* &lt;p&gt; &lt;/p&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">*</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">* &lt;pre&gt; Created: 2018-11-21 19:34  &lt;/pre&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">* &lt;pre&gt; Project: pawo-power  &lt;/pre&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">*</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">* @author gmzhao</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">* @version 1.0</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">* @since JDK 1.7</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">*/</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">public class Tree {</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    /**</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     * 中国0 北京0-1 上海0-2 重庆0-3 安徽0-4 朝阳区1-5 丰台区1-6 黄浦区2-7 嘉定区2-8 沙坪坝3-9 合肥4-10 芜湖 4-11</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     */</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    @Test</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    public void test(){</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        List&lt;Country&gt; countryList = new ArrayList&lt;&gt;();</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><span>    </span><span>    //数据准备</span><br/></span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        countryList.add(Country.builder().id(0).parentId(null).name(&quot;中国&quot;).build());</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        countryList.add(Country.builder().id(1).parentId(0).name(&quot;北京&quot;).build());</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        countryList.add(Country.builder().id(2).parentId(0).name(&quot;上海&quot;).build());</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        countryList.add(Country.builder().id(3).parentId(0).name(&quot;重庆&quot;).build());</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        countryList.add(Country.builder().id(4).parentId(0).name(&quot;安徽&quot;).build());</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        countryList.add(Country.builder().id(5).parentId(1).name(&quot;朝阳区&quot;).build());</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        countryList.add(Country.builder().id(6).parentId(1).name(&quot;丰台区&quot;).build());</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        countryList.add(Country.builder().id(7).parentId(2).name(&quot;黄浦区&quot;).build());</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        countryList.add(Country.builder().id(8).parentId(2).name(&quot;嘉定区&quot;).build());</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        countryList.add(Country.builder().id(9).parentId(3).name(&quot;沙坪坝&quot;).build());</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        countryList.add(Country.builder().id(10).parentId(4).name(&quot;合肥&quot;).build());</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        countryList.add(Country.builder().id(11).parentId(4).name(&quot;芜湖&quot;).build());</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        List&lt;Country&gt; valueList = overwriteToTree(countryList);</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    }</span></div><div><span>    </span><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span>  <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">/**</span></span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     * 构建树形结构</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     *</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     * @param countries 参数列表</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     * @return 树形结构</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">     */</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    private  List&lt;Country&gt; overwriteToTree(List&lt;Country&gt; countries) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        List&lt;Country&gt; valueList = new ArrayList&lt;&gt;();</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        for (Country country : countries) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            if(CollectionUtil.isEmpty(country.countries)){</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                country.countries = new ArrayList&lt;&gt;();</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            for (Country param : countries) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                Integer countryId = country.id;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                Integer parentId = param.parentId;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                if (ObjectUtil.isNotNull(parentId) &amp;&amp; countryId.equals(parentId)) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                    country.countries.add(param);</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            //只要最高级别,没有父级别即为最高级别</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            if (ObjectUtil.isNull(country.parentId)){</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                valueList.add(country);</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        System.out.println(&quot;============================&quot;);</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        return valueList;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    }</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div></div><div><br/></div></span>
</div></body></html> 