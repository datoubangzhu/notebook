<html>
<head>
  <title>II.spring配置</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600480 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="506"/>
<h1>II.spring配置</h1>

<div>
<span><div>1.在以上配置好的基础上，进行spring配置。首先，pom.xml中添加spring依赖包</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color: #e8bf6a;"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&lt;dependency&gt;</span></span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&lt;groupId&gt;org.springframework&lt;/groupId&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&lt;artifactId&gt;spring-test&lt;/artifactId&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&lt;version&gt;3.0.0.RELEASE&lt;/version&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&lt;scope&gt;compile&lt;/scope&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&lt;/dependency&gt;</span></div></div><div><br/></div><div>踩坑：配置下面这个依赖会导致之钱的冲突，例如报错提示找不到xxx.ui.Model等</div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px 0px 0px 8px; word-break: break-all; float: left; height: 22px;"><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><span style="box-sizing: border-box; outline: 0px; word-break: break-all;">&lt;</span><span style="box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(224, 108, 117);">dependency</span><span style="box-sizing: border-box; outline: 0px; word-break: break-all;">&gt;</span></div></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; list-style-type: none; word-break: break-all; height: 22px;"><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px 0px 0px 8px; word-break: break-all; float: left; height: 22px;"><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><span style="box-sizing: border-box; outline: 0px; word-break: break-all;">&lt;</span><span style="box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(224, 108, 117);">groupId</span><span style="box-sizing: border-box; outline: 0px; word-break: break-all;">&gt;</span><span style="box-sizing: border-box; outline: 0px; word-break: break-all;">org.springframework</span><span style="box-sizing: border-box; outline: 0px; word-break: break-all;">&lt;/</span><span style="box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(224, 108, 117);">groupId</span><span style="box-sizing: border-box; outline: 0px; word-break: break-all;">&gt;</span></div></div></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; list-style-type: none; word-break: break-all; height: 22px;"><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px 0px 0px 8px; word-break: break-all; float: left; height: 22px;"><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><span style="box-sizing: border-box; outline: 0px; word-break: break-all;">&lt;</span><span style="box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(224, 108, 117);">artifactId</span><span style="box-sizing: border-box; outline: 0px; word-break: break-all;">&gt;</span><span style="box-sizing: border-box; outline: 0px; word-break: break-all;">spring-context</span><span style="box-sizing: border-box; outline: 0px; word-break: break-all;">&lt;/</span><span style="box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(224, 108, 117);">artifactId</span><span style="box-sizing: border-box; outline: 0px; word-break: break-all;">&gt;</span></div></div></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px 0px 0px 8px; word-break: break-all; float: left; height: 22px;"><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><span style="box-sizing: border-box; outline: 0px; word-break: break-all;">&lt;/</span><span style="box-sizing: border-box; outline: 0px; word-break: break-all; color: rgb(224, 108, 117);">dependency</span><span style="box-sizing: border-box; outline: 0px; word-break: break-all;">&gt;</span></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><div><br/></div></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><span style="box-sizing: border-box; outline: 0px; word-break: break-all;">2.web.xml中添加spring监听器：</span></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><br/></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑">&lt;listener&gt;</font></span></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&lt;listener-class&gt;</span><span style="font-size: 9pt;">org.springframework.web.context.ContextLoaderListener</span><span style="font-size: 9pt;">&lt;/listener-class&gt;</span></font></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑">&lt;/listener&gt;</font></span></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑">&lt;context-param&gt;</font></span></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&lt;param-name&gt;</span><span style="font-size: 9pt;">contextConfigLocation</span><span style="font-size: 9pt;">&lt;/param-name&gt;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&lt;param-value&gt;</span><span style="font-size: 9pt;">classpath:config/applicationContext.xml</span><span style="font-size: 9pt;">&lt;/param-value&gt;</span></font></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑">&lt;/context-param&gt;</font></span></div></div><div><br/></div></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;">3.添加了目录和service层，applicationContext.xml内容如下：</div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&lt;?</span><span style="font-size: 9pt;">xml version</span><span style="font-size: 9pt;">=&quot;1.0&quot;</span> <span style="font-size: 9pt;">encoding</span><span style="font-size: 9pt;">=&quot;UTF-8&quot;</span><span style="font-size: 9pt;">?&gt;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&lt;beans</span> <span style="font-size: 9pt;">xmlns</span><span style="font-size: 9pt;">=&quot;<a href="http://www.springframework.org/schema/beans" style="color: rgb(0, 0, 0);">http://www.springframework.org/schema/beans</a>&quot;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">xmlns:</span><span style="font-size: 9pt;">xsi</span><span style="font-size: 9pt;">=&quot;<a href="http://www.w3.org/2001/XMLSchema-instance" style="color: rgb(0, 0, 0);">http://www.w3.org/2001/XMLSchema-instance</a>&quot;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">xmlns:</span><span style="font-size: 9pt;">context</span><span style="font-size: 9pt;">=&quot;<a href="http://www.springframework.org/schema/context" style="color: rgb(0, 0, 0);">http://www.springframework.org/schema/context</a>&quot;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">xsi</span><span style="font-size: 9pt;">:schemaLocation</span><span style="font-size: 9pt;">=&quot;<a href="http://www.springframework.org/schema/beans" style="color: rgb(0, 0, 0);">http://www.springframework.org/schema/beans</a></span></font></div><div><span style="font-size: 9pt;"><a href="http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"><font color="#000000" face="微软雅黑">http://www.springframework.org/schema/beans/spring-beans-3.0.xsd</font></a></span></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;"><a href="http://www.springframework.org/schema/context" style="color: rgb(0, 0, 0);">http://www.springframework.org/schema/context</a><a href="http://www.springframework.org/schema/context/spring-context.xsd" style="color: rgb(0, 0, 0);">http://www.springframework.org/schema/context/spring-context.xsd</a>&quot;</span><span style="font-size: 9pt;">&gt;</span></font></div><div><br style="font-size: 9pt;"/></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&lt;</span><span style="font-size: 9pt;">context</span><span style="font-size: 9pt;">:annotation-config /&gt;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&lt;!--   经测试，service包下所有子包以及类为迭代扫描   --&gt;</span></font></div><div><font color="#000000" face="微软雅黑"><span style="font-size: 9pt;">&lt;</span><span style="font-size: 9pt;">context</span><span style="font-size: 9pt;">:component-scan</span> <span style="font-size: 9pt;">base-package</span><span style="font-size: 9pt;">=&quot;service&quot;</span><span style="font-size: 9pt;">/&gt;</span></font></div><div><span style="font-size: 9pt;"><font color="#000000" face="微软雅黑">&lt;/beans&gt;</font></span></div></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><br/></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><span style="box-sizing: border-box; outline: 0px; word-break: break-all;">&lt;beans&gt;起始标签中的内容不要随意改动。添加文件后的目录结构如下，注意及时进行maven  jar包的编译</span></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><div><br/></div></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><div><span style="box-sizing: border-box; outline: 0px; word-break: break-all;"><img src="II.spring配置_files/$U)K$O8)%1Q@FYEJFU3AW[J.png" type="image/png" data-filename="$U)K$O8)%1Q@FYEJFU3AW[J.png" width="339"/></span></div></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><div><br/></div></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><div><br/></div></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><div><br/></div></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><div><br/></div></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><div><br/></div></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><div><br/></div></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><div><br/></div></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><div><br/></div></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><div><br/></div></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><div><br/></div></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><div><br/></div></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><div><br/></div></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><div><br/></div></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><div><br/></div></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px; word-break: break-all;"><div><br/></div><div><br/></div></div></div><div><br/></div></span>
</div></body></html> 